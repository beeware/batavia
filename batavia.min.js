fixedConsoleLog=function(msg){console.log.call(console,msg);};var batavia={stdout:fixedConsoleLog,stderr:fixedConsoleLog,core:{},modules:{},builtins:{}};function assert(condition,message){if(!condition){throw message||"Assertion failed";}}
String.prototype.startswith=function(str){return this.slice(0,str.length)===str;};String.prototype.__repr__=function(args,kwargs){return"'"+this.toString()+"'";};String.prototype.__iter__=function(){return new batavia.core.str_iterator(this);};batavia.core.str_iterator=function(data){Object.call(this);this.index=0;this.data=data;};batavia.core.str_iterator.prototype=Object.create(Object.prototype);batavia.core.str_iterator.prototype.__next__=function(){var retval=this.data[this.index];if(retval===undefined){throw new batavia.builtins.StopIteration();}
this.index++;return retval;};batavia.core.str_iterator.prototype.__str__=function(){return"<str_iterator object at 0x99999999>";};batavia.core.Dict=function(args,kwargs){Object.call(this);if(args){this.update(args);}};batavia.core.Dict.prototype=Object.create(Object.prototype);batavia.core.Dict.prototype.update=function(values){for(var key in values){if(values.hasOwnProperty(key)){this[key]=values[key];}}};batavia.core.Dict.prototype.copy=function(){return new batavia.core.Dict(this);};batavia.core.Dict.prototype.items=function(){var result=[];for(var key in this){if(this.hasOwnProperty(key)){result.push([key,this[key]]);}}
return result;};batavia.core.Dict.prototype.toString=function(){return this.__str__();};batavia.core.Dict.prototype.__str__=function(){var result="{",values=[];for(var key in this){if(this.hasOwnProperty(key)){values.push(batavia.builtins.repr([key],null)+": "+batavia.builtins.repr([this[key]],null));}}
result+=values.join(', ');result+="}";return result;};batavia.core.List=function(){function List(){if(arguments.length===0){this.push.apply(this);}else if(arguments.length===1){this.push.apply(this,arguments[0]);}else{throw new batavia.builtins.TypeError('list() takes at most 1 argument ('+arguments.length+' given)');}}
function Array(){}
Array.prototype=[];List.prototype=new Array;List.prototype.length=0;List.prototype.__len__=function(){return this.length;};List.prototype.append=function(value){this.push(value);};List.prototype.extend=function(values){if(values.length>0){this.push.apply(this,values);}};List.prototype.toString=function(){return this.__str__();};List.prototype.__repr__=function(){return this.__str__();};List.prototype.__str__=function(){return'['+this.map(function(obj){return batavia.builtins.repr([obj],null);}).join(', ')+']';};List.prototype.__iter__=function(){return new batavia.core.list_iterator(this);};List.prototype.constructor=List;return List;}();batavia.core.list_iterator=function(data){Object.call(this);this.index=0;this.data=data;};batavia.core.list_iterator.prototype=Object.create(Object.prototype);batavia.core.list_iterator.prototype.__next__=function(){var retval=this.data[this.index];if(retval===undefined){throw new batavia.builtins.StopIteration();}
this.index++;return retval;};batavia.core.list_iterator.prototype.__str__=function(){return"<list_iterator object at 0x99999999>";};batavia.core.Set=function(args,kwargs){Object.call(this);if(args){this.update(args);}};batavia.core.Set.prototype=Object.create(Object.prototype);batavia.core.Set.prototype.add=function(v){this[v]=null;};batavia.core.Set.prototype.remove=function(v){delete this[v];};batavia.core.Set.prototype.update=function(values){for(var value in values){if(values.hasOwnProperty(value)){this[values[value]]=null;}}};batavia.core.Set.prototype.toString=function(){return this.__str__();};batavia.core.Set.prototype.__str__=function(){var result="{",values=[];for(var key in this){if(this.hasOwnProperty(key)){values.push(batavia.builtins.repr(key));}}
result+=values.join(', ');result+="}";return result;};batavia.core.Set.prototype.__iter__=function(){return new batavia.core.set_iterator(this);};batavia.core.set_iterator=function(data){Object.call(this);this.index=0;this.data=data;};batavia.core.set_iterator.prototype=Object.create(Object.prototype);batavia.core.set_iterator.prototype.__next__=function(){var retval=this.data[this.index];if(retval===undefined){throw new batavia.builtins.StopIteration();}
this.index++;return retval;};batavia.core.set_iterator.prototype.__str__=function(){return"<set_iterator object at 0x99999999>";};batavia.core.FrozenSet=function(args,kwargs){batavia.core.Set.call(this,args,kwargs);};batavia.core.FrozenSet.prototype=Object.create(batavia.core.Set.prototype);batavia.core.Tuple=function(){function Tuple(length){if(arguments.length===0){this.push.apply(this);}else if(arguments.length===1){this.push.apply(this,arguments[0]);}else{throw new batavia.builtins.TypeError('tuple() takes at most 1 argument ('+arguments.length+' given)');}}
function Array(){}
Array.prototype=[];Tuple.prototype=new Array;Tuple.prototype.length=0;Tuple.prototype.__len__=function(){return this.length;};Tuple.prototype.toString=function(){return this.__str__();};Tuple.prototype.__str__=function(){return'('+this.map(function(obj){return batavia.builtins.repr([obj],null);}).join(', ')+')';};Tuple.prototype.__iter__=function(){return new batavia.core.tuple_iterator(this);};Tuple.prototype.constructor=Tuple;return Tuple;}();batavia.core.tuple_iterator=function(data){Object.call(this);this.index=0;this.data=data;};batavia.core.tuple_iterator.prototype=Object.create(Object.prototype);batavia.core.tuple_iterator.prototype.__next__=function(){var retval=this.data[this.index];if(retval===undefined){throw new batavia.builtins.StopIteration();}
this.index++;return retval;};batavia.core.tuple_iterator.prototype.__str__=function(){return"<tuple_iterator object at 0x99999999>";};batavia.core.range=function(start,stop,step){this.start=start;this.stop=stop;this.step=step||1;if(this.stop===undefined){this.start=0;this.stop=start;}};batavia.core.range.prototype.toString=function(){return this.__str__();};batavia.core.range.prototype.__str__=function(){if(this.step){return'('+this.start+', '+this.stop+', '+this.step+')';}else{return'('+this.start+', '+this.stop+')';}};batavia.core.range.prototype.__iter__=function(){return new batavia.core.range_iterator(this);};batavia.core.range_iterator=function(data){Object.call(this);this.data=data;this.index=this.data.start;};batavia.core.range_iterator.prototype=Object.create(Object.prototype);batavia.core.range_iterator.prototype.__next__=function(){var retval=this.index;if(this.index<this.data.stop){this.index=this.index+this.data.step;return retval;}
throw new batavia.builtins.StopIteration();};batavia.core.range_iterator.prototype.__str__=function(){return"<range_iterator object at 0x99999999>";};function datatype(data){var type;switch(typeof(data)){case"number":type="int";return type;break;case"boolean":type="bool";return type;break;case"string":return"string"}
return type;}
batavia.operators={POSITIVE:function(a){if(typeof a==='string'){throw new batavia.builtins.TypeError("bad operand type for unary +: 'str'");}else{return+a;}},NEGATIVE:function(a){if(typeof a==='string'){throw new batavia.builtins.TypeError("bad operand type for unary -: 'str'");}else{return-a;}},NOT:function(a){return!a;},CONVERT:function(a){throw new batavia.builtins.NotImplementedError('Unary convert not implemented');},INVERT:function(a){throw new batavia.builtins.NotImplementedError('Unary invert not implemented');},POWER:function(a,b){return Math.pow(a,b);},MULTIPLY:function(a,b){var result,i;if(a instanceof Array){result=new batavia.core.List();if(b instanceof Array){throw new batavia.builtins.TypeError("can't multiply sequence by non-int of type 'list'");}else{for(i=0;i<b;i++){result.extend(a);}}}else if(b===null){throw new batavia.builtins.TypeError("can't multiply sequence by non-int of type 'NoneType'");}else if(b instanceof Array){result=[];for(i=0;i<a;i++){result.extend(b);}}
else{result=a*b;}
return result;},DIVIDE:function(a,b){return Math.floor(a/b);},FLOOR_DIVIDE:function(a,b){return Math.floor(a/b);},TRUE_DIVIDE:function(a,b){return a/b;},MODULO:function(a,b){if(typeof a==='string'){if(b instanceof Array){return batavia._substitute(a,b);}else if(b instanceof Object){}else{return batavia._substitute(a,[b]);}}else{return a%b;}},ADD:function(a,b){var atype=datatype(a);var btype=datatype(b);var result,i;if(a instanceof Array){if(b instanceof Array){result=[];result.extend(a);result.extend(b);}else{throw new batavia.builtins.TypeError('can only concatenate list (not "'+(typeof b)+'") to list');}}else if(b instanceof Array){throw new batavia.builtins.TypeError("Can't convert 'list' object to str implicitly");}else if(b===null){throw new batavia.builtins.TypeError("Can't convert 'NoneType' object to str implicitly");}
else if(typeof(a)=='string'){if(typeof(b)!='string'){throw new batavia.builtins.TypeError("Can't convert '"+btype+"' object to str implicitly");}
else{result=a+b}}
else if(typeof(b)=='string'){throw new batavia.builtins.TypeError("unsupported operand type(s) for +: '"+atype+"' and 'str'");}
else{result=a+b;}
return result;},SUBTRACT:function(a,b){return a-b;},SUBSCR:function(a,b){if(b instanceof Object){var start,stop,step,result;if(b.start===null){start=0;}
if(b.stop===null){stop=a.length;}
if(b.step===1){result=a.slice(start,stop);}else{result=[];for(var i=start;i<stop;i+=b.step){result.push(a[i]);}}
return result;}else{return a[b];}},LSHIFT:function(a,b){return a<<b;},RSHIFT:function(a,b){return a>>b;},AND:function(a,b){return a&b;},XOR:function(a,b){return a^b;},OR:function(a,b){return a|b;}};batavia.comparisons=[function(x,y){return x<y;},function(x,y){return x<=y;},function(x,y){return x==y;},function(x,y){return x!=y;},function(x,y){return x>y;},function(x,y){return x>=y;},function(x,y){return x in y;},function(x,y){return!(x in y);},function(x,y){return x===y;},function(x,y){return x!==y;},function(x,y){if(y instanceof Array){for(var i in y){if(x===y[i]){return true;}}
return false;}else{return x===y;}},];batavia._substitute=function(format,args){var results=[];var re=/\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/g;var match;var lastIndex=0;for(var i=0;i<args.length;i++){var arg=args[i];match=re.exec(format);if(match){switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":case"i":arg=parseInt(arg,10);break;case"j":arg=JSON.stringify(arg,null,match[6]?parseInt(match[6],10):0);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"g":arg=match[7]?parseFloat(arg).toPrecision(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=((arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg);break;case"u":arg=arg>>>0;break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase();break;}
results.push(format.slice(lastIndex,match.index));lastIndex=re.lastIndex;results.push(arg);}else{throw new batavia.builtins.TypeError('not all arguments converted during string formatting');}}
results.push(format.slice(re.lastIndex));return results.join('');};batavia.make_class=function(args,kwargs){var func=args[0];var name=args[1];var bases=kwargs.bases||args[2];var metaclass=kwargs.metaclass||args[3];var kwds=kwargs.kwds||args[4]||[];var locals=new batavia.core.Dict();var retval=func.__call__.apply(this,[[],[],locals]);var klass=function(vm,args,kwargs){if(this.__init__){this.__init__.__self__=this;this.__init__.__call__.apply(vm,[args,kwargs]);}};for(var attr in locals){if(locals.hasOwnProperty(attr)){klass.prototype[attr]=locals[attr];}}
var PyObject=function(vm,klass){var __new__=function(args,kwargs){return new klass(vm,args,kwargs);};__new__.__python__=true;return __new__;}(this,klass);return PyObject;};batavia.make_callable=function(func){var fn=function(args,kwargs,locals){var retval;var callargs=batavia.modules.inspect.getcallargs(func,args,kwargs);var frame=this.make_frame({'code':func.__code__,'callargs':callargs,'f_globals':func.__globals__,'f_locals':locals||new batavia.core.Dict()});if(func.__code__.co_flags&batavia.modules.dis.CO_GENERATOR){gen=new batavia.core.Generator(frame,this);frame.generator=gen;retval=gen;}else{retval=this.run_frame(frame);}
return retval;};fn.__python__=true;return fn;};batavia.modules.dis={CO_GENERATOR:32,hasconst:new batavia.core.Set(),hasname:new batavia.core.Set(),hasjrel:new batavia.core.Set(),hasjabs:new batavia.core.Set(),haslocal:new batavia.core.Set(),hascompare:new batavia.core.Set(),hasfree:new batavia.core.Set(),hasnargs:new batavia.core.Set(),opmap:null,opname:[],unary_ops:new batavia.core.Set(),binary_ops:new batavia.core.Set(),inplace_ops:new batavia.core.Set(),def_op:function(name,op){batavia.modules.dis.opname[op]=name;batavia.modules.dis.opmap[name]=op;},def_unary_op:function(name,op){batavia.modules.dis.def_op(name,op);batavia.modules.dis.unary_ops.add(op);},def_binary_op:function(name,op){batavia.modules.dis.def_op(name,op);batavia.modules.dis.binary_ops.add(op);},def_inplace_op:function(name,op){batavia.modules.dis.def_op(name,op);batavia.modules.dis.inplace_ops.add(op);},name_op:function(name,op){batavia.modules.dis.def_op(name,op);batavia.modules.dis.hasname.add(op);},jrel_op:function(name,op){batavia.modules.dis.def_op(name,op);batavia.modules.dis.hasjrel.add(op);},jabs_op:function(name,op){batavia.modules.dis.def_op(name,op);batavia.modules.dis.hasjabs.add(op);},init:function(){if(batavia.modules.dis.opmap!==null){return;}
batavia.modules.dis.opmap={};for(var op=0;op<256;op++){batavia.modules.dis.opname.push('<'+op+'>');}
batavia.modules.dis.def_op('POP_TOP',1);batavia.modules.dis.def_op('ROT_TWO',2);batavia.modules.dis.def_op('ROT_THREE',3);batavia.modules.dis.def_op('DUP_TOP',4);batavia.modules.dis.def_op('DUP_TOP_TWO',5);batavia.modules.dis.def_op('NOP',9);batavia.modules.dis.def_unary_op('UNARY_POSITIVE',10);batavia.modules.dis.def_unary_op('UNARY_NEGATIVE',11);batavia.modules.dis.def_unary_op('UNARY_NOT',12);batavia.modules.dis.def_unary_op('UNARY_INVERT',15);batavia.modules.dis.def_binary_op('BINARY_POWER',19);batavia.modules.dis.def_binary_op('BINARY_MULTIPLY',20);batavia.modules.dis.def_binary_op('BINARY_MODULO',22);batavia.modules.dis.def_binary_op('BINARY_ADD',23);batavia.modules.dis.def_binary_op('BINARY_SUBTRACT',24);batavia.modules.dis.def_binary_op('BINARY_SUBSCR',25);batavia.modules.dis.def_binary_op('BINARY_FLOOR_DIVIDE',26);batavia.modules.dis.def_binary_op('BINARY_TRUE_DIVIDE',27);batavia.modules.dis.def_inplace_op('INPLACE_FLOOR_DIVIDE',28);batavia.modules.dis.def_inplace_op('INPLACE_TRUE_DIVIDE',29);batavia.modules.dis.def_op('STORE_MAP',54);batavia.modules.dis.def_inplace_op('INPLACE_ADD',55);batavia.modules.dis.def_inplace_op('INPLACE_SUBTRACT',56);batavia.modules.dis.def_inplace_op('INPLACE_MULTIPLY',57);batavia.modules.dis.def_inplace_op('INPLACE_MODULO',59);batavia.modules.dis.def_op('STORE_SUBSCR',60);batavia.modules.dis.def_op('DELETE_SUBSCR',61);batavia.modules.dis.def_binary_op('BINARY_LSHIFT',62);batavia.modules.dis.def_binary_op('BINARY_RSHIFT',63);batavia.modules.dis.def_binary_op('BINARY_AND',64);batavia.modules.dis.def_binary_op('BINARY_XOR',65);batavia.modules.dis.def_binary_op('BINARY_OR',66);batavia.modules.dis.def_inplace_op('INPLACE_POWER',67);batavia.modules.dis.def_op('GET_ITER',68);batavia.modules.dis.def_op('PRINT_EXPR',70);batavia.modules.dis.def_op('LOAD_BUILD_CLASS',71);batavia.modules.dis.def_op('YIELD_FROM',72);batavia.modules.dis.def_inplace_op('INPLACE_LSHIFT',75);batavia.modules.dis.def_inplace_op('INPLACE_RSHIFT',76);batavia.modules.dis.def_inplace_op('INPLACE_AND',77);batavia.modules.dis.def_inplace_op('INPLACE_XOR',78);batavia.modules.dis.def_inplace_op('INPLACE_OR',79);batavia.modules.dis.def_op('BREAK_LOOP',80);batavia.modules.dis.def_op('WITH_CLEANUP',81);batavia.modules.dis.def_op('RETURN_VALUE',83);batavia.modules.dis.def_op('IMPORT_STAR',84);batavia.modules.dis.def_op('YIELD_VALUE',86);batavia.modules.dis.def_op('POP_BLOCK',87);batavia.modules.dis.def_op('END_FINALLY',88);batavia.modules.dis.def_op('POP_EXCEPT',89);batavia.modules.dis.HAVE_ARGUMENT=90;batavia.modules.dis.name_op('STORE_NAME',90);batavia.modules.dis.name_op('DELETE_NAME',91);batavia.modules.dis.def_op('UNPACK_SEQUENCE',92);batavia.modules.dis.jrel_op('FOR_ITER',93);batavia.modules.dis.def_op('UNPACK_EX',94);batavia.modules.dis.name_op('STORE_ATTR',95);batavia.modules.dis.name_op('DELETE_ATTR',96);batavia.modules.dis.name_op('STORE_GLOBAL',97);batavia.modules.dis.name_op('DELETE_GLOBAL',98);batavia.modules.dis.def_op('LOAD_CONST',100);batavia.modules.dis.hasconst.add(100);batavia.modules.dis.name_op('LOAD_NAME',101);batavia.modules.dis.def_op('BUILD_TUPLE',102);batavia.modules.dis.def_op('BUILD_LIST',103);batavia.modules.dis.def_op('BUILD_SET',104);batavia.modules.dis.def_op('BUILD_MAP',105);batavia.modules.dis.name_op('LOAD_ATTR',106);batavia.modules.dis.def_op('COMPARE_OP',107);batavia.modules.dis.hascompare.add(107);batavia.modules.dis.name_op('IMPORT_NAME',108);batavia.modules.dis.name_op('IMPORT_FROM',109);batavia.modules.dis.jrel_op('JUMP_FORWARD',110);batavia.modules.dis.jabs_op('JUMP_IF_FALSE_OR_POP',111);batavia.modules.dis.jabs_op('JUMP_IF_TRUE_OR_POP',112);batavia.modules.dis.jabs_op('JUMP_ABSOLUTE',113);batavia.modules.dis.jabs_op('POP_JUMP_IF_FALSE',114);batavia.modules.dis.jabs_op('POP_JUMP_IF_TRUE',115);batavia.modules.dis.name_op('LOAD_GLOBAL',116);batavia.modules.dis.jabs_op('CONTINUE_LOOP',119);batavia.modules.dis.jrel_op('SETUP_LOOP',120);batavia.modules.dis.jrel_op('SETUP_EXCEPT',121);batavia.modules.dis.jrel_op('SETUP_FINALLY',122);batavia.modules.dis.def_op('LOAD_FAST',124);batavia.modules.dis.haslocal.add(124);batavia.modules.dis.def_op('STORE_FAST',125);batavia.modules.dis.haslocal.add(125);batavia.modules.dis.def_op('DELETE_FAST',126);batavia.modules.dis.haslocal.add(126);batavia.modules.dis.def_op('RAISE_VARARGS',130);batavia.modules.dis.def_op('CALL_FUNCTION',131);batavia.modules.dis.hasnargs.add(131);batavia.modules.dis.def_op('MAKE_FUNCTION',132);batavia.modules.dis.def_op('BUILD_SLICE',133);batavia.modules.dis.def_op('MAKE_CLOSURE',134);batavia.modules.dis.def_op('LOAD_CLOSURE',135);batavia.modules.dis.hasfree.add(135);batavia.modules.dis.def_op('LOAD_DEREF',136);batavia.modules.dis.hasfree.add(136);batavia.modules.dis.def_op('STORE_DEREF',137);batavia.modules.dis.hasfree.add(137);batavia.modules.dis.def_op('DELETE_DEREF',138);batavia.modules.dis.hasfree.add(138);batavia.modules.dis.def_op('CALL_FUNCTION_VAR',140);batavia.modules.dis.hasnargs.add(140);batavia.modules.dis.def_op('CALL_FUNCTION_KW',141);batavia.modules.dis.hasnargs.add(141);batavia.modules.dis.def_op('CALL_FUNCTION_VAR_KW',142);batavia.modules.dis.hasnargs.add(142);batavia.modules.dis.jrel_op('SETUP_WITH',143);batavia.modules.dis.def_op('LIST_APPEND',145);batavia.modules.dis.def_op('SET_ADD',146);batavia.modules.dis.def_op('MAP_ADD',147);batavia.modules.dis.def_op('LOAD_CLASSDEREF',148);batavia.modules.dis.hasfree.add(148);batavia.modules.dis.def_op('EXTENDED_ARG',144);batavia.modules.dis.EXTENDED_ARG=144;}};batavia.modules.dom={'window':window,'parent':parent,'top':top,'navigator':navigator,'frames':frames,'location':location,'history':history,'document':document,'batavia':batavia};batavia.builtins.dom=batavia.modules.dom;batavia.modules.marshal={MAX_MARSHAL_STACK_DEPTH:1500,TYPE_null:'0'.charCodeAt(),TYPE_NONE:'N'.charCodeAt(),TYPE_FALSE:'F'.charCodeAt(),TYPE_TRUE:'T'.charCodeAt(),TYPE_STOPITER:'S'.charCodeAt(),TYPE_ELLIPSIS:'.'.charCodeAt(),TYPE_INT:'i'.charCodeAt(),TYPE_FLOAT:'f'.charCodeAt(),TYPE_BINARY_FLOAT:'g'.charCodeAt(),TYPE_COMPLEX:'x'.charCodeAt(),TYPE_BINARY_COMPLEX:'y'.charCodeAt(),TYPE_LONG:'l'.charCodeAt(),TYPE_STRING:'s'.charCodeAt(),TYPE_INTERNED:'t'.charCodeAt(),TYPE_REF:'r'.charCodeAt(),TYPE_TUPLE:'('.charCodeAt(),TYPE_LIST:'['.charCodeAt(),TYPE_DICT:'{'.charCodeAt(),TYPE_CODE:'c'.charCodeAt(),TYPE_UNICODE:'u'.charCodeAt(),TYPE_UNKNOWN:'?'.charCodeAt(),TYPE_SET:'<'.charCodeAt(),TYPE_FROZENSET:'>'.charCodeAt(),FLAG_REF:0x80,TYPE_ASCII:'a'.charCodeAt(),TYPE_ASCII_INTERNED:'A'.charCodeAt(),TYPE_SMALL_TUPLE:')'.charCodeAt(),TYPE_SHORT_ASCII:'z'.charCodeAt(),TYPE_SHORT_ASCII_INTERNED:'Z'.charCodeAt(),PyLong_MARSHAL_SHIFT:15,SIZE32_MAX:Math.pow(2,32),r_string:function(vm,n,p)
{return p.fread(n);},r_byte:function(vm,p)
{return p.getc();},r_short:function(vm,p)
{var x=p.getc();x|=p.getc()<<8;x|=-(x&0x8000);return x;},r_long:function(vm,p){var x;x=p.getc();x|=p.getc()<<8;x|=p.getc()<<16;x|=p.getc()<<24;x|=-(x&0x80000000);return x;},r_ref_reserve:function(vm,flag,p){if(flag){var idx=p.refs.length;if(idx>=0x7ffffffe){vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (index list too large)");return-1;}
if(p.refs.push(null)<0){return-1;}
return idx;}else{return 0;}},r_ref_insert:function(vm,o,idx,flag,p){if(o!==null&&flag){var tmp=p.refs[idx];p.refs[idx]=o;}
return o;},r_ref:function(vm,o,flag,p){assert(flag&batavia.modules.marshal.FLAG_REF);if(o===null){return null;}
if(p.refs.push(o)<0){return null;}
return o;},r_object:function(vm,p){var retval,v;var idx=0;var i,n;var ptr;var type,code=batavia.modules.marshal.r_byte(vm,p);var flag,is_interned=0;if(code===batavia.core.PYCFile.EOF){vm.PyErr_SetString(batavia.builtins.EOFError,"EOF read where object expected");return null;}
p.depth++;if(p.depth>batavia.modules.marshal.MAX_MARSHAL_STACK_DEPTH){p.depth--;vm.PyErr_SetString(batavia.builtins.ValueError,"recursion limit exceeded");return null;}
flag=code&batavia.modules.marshal.FLAG_REF;type=code&~batavia.modules.marshal.FLAG_REF;switch(type){case batavia.modules.marshal.TYPE_null:retval=null;break;case batavia.modules.marshal.TYPE_NONE:retval=null;break;case batavia.modules.marshal.TYPE_STOPITER:retval=batavia.builtins.StopIteration;break;case batavia.modules.marshal.TYPE_ELLIPSIS:retval=batavia.VirtualMachine.Py_Ellipsis;break;case batavia.modules.marshal.TYPE_FALSE:retval=false;break;case batavia.modules.marshal.TYPE_TRUE:retval=true;break;case batavia.modules.marshal.TYPE_INT:retval=batavia.modules.marshal.r_long(vm,p);if(vm.PyErr_Occurred()){break;}
if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_LONG:retval=batavia.modules.marshal.r_PyLong(vm,p);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_FLOAT:n=batavia.modules.marshal.r_byte(vm,p);buf=batavia.modules.marshal.r_string(vm,p,n);retval=parseFloat(buf);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_BINARY_FLOAT:buf=p.fread(8);var sign;var e;var fhi,flo;var incr=1;sign=(buf.charCodeAt(7)>>7)&1;e=(buf.charCodeAt(7)&0x7F)<<4;e|=(buf.charCodeAt(6)>>4)&0xF;fhi=(buf.charCodeAt(6)&0xF)<<24;if(e==2047){throw"can't unpack IEEE 754 special value on non-IEEE platform";}
fhi|=buf.charCodeAt(5)<<16;fhi|=buf.charCodeAt(4)<<8;fhi|=buf.charCodeAt(3);flo=buf.charCodeAt(2)<<16;flo|=buf.charCodeAt(1)<<8;flo|=buf.charCodeAt(0);retval=fhi+flo/16777216.0;retval/=268435456.0;if(e===0){e=-1022;}else{retval+=1.0;e-=1023;}
retval=retval*Math.pow(2,e);if(sign){retval=-retval;}
if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_COMPLEX:break;case batavia.modules.marshal.TYPE_BINARY_COMPLEX:break;case batavia.modules.marshal.TYPE_STRING:n=batavia.modules.marshal.r_long(vm,p);if(vm.PyErr_Occurred()){break;}
if(n<0||n>batavia.modules.marshal.SIZE32_MAX){vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (string size out of range)");break;}
retval=batavia.modules.marshal.r_string(vm,n,p);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_ASCII_INTERNED:case batavia.modules.marshal.TYPE_ASCII:n=batavia.modules.marshal.r_long(vm,p);if(n===batavia.core.PYCFile.EOF){vm.PyErr_SetString(batavia.builtins.EOFError,"EOF read where object expected");break;}
retval=batavia.modules.marshal.r_string(vm,n,p);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_SHORT_ASCII_INTERNED:case batavia.modules.marshal.TYPE_SHORT_ASCII:n=batavia.modules.marshal.r_byte(vm,p);if(n===batavia.core.PYCFile.EOF){vm.PyErr_SetString(batavia.builtins.EOFError,"EOF read where object expected");break;}
retval=batavia.modules.marshal.r_string(vm,n,p);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_INTERNED:case batavia.modules.marshal.TYPE_UNICODE:n=batavia.modules.marshal.r_long(vm,p);if(n===batavia.core.PYCFile.EOF){vm.PyErr_SetString(batavia.builtins.EOFError,"EOF read where object expected");break;}
retval=batavia.modules.marshal.r_string(vm,n,p);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_SMALL_TUPLE:n=batavia.modules.marshal.r_byte(vm,p);if(vm.PyErr_Occurred()){break;}
retval=new batavia.core.Tuple(new Array(n));for(i=0;i<n;i++){retval[i]=batavia.modules.marshal.r_object(vm,p);}
if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_TUPLE:n=batavia.modules.marshal.r_long(vm,p);if(vm.PyErr_Occurred()){break;}
if(n<0||n>batavia.modules.marshal.SIZE32_MAX){vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (tuple size out of range)");break;}
retval=new batavia.core.Tuple(new Array(n));for(i=0;i<n;i++){retval[i]=batavia.modules.marshal.r_object(vm,p);}
if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_LIST:n=batavia.modules.marshal.r_long(vm,p);if(vm.PyErr_Occurred()){break;}
if(n<0||n>batavia.modules.marshal.SIZE32_MAX){vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (list size out of range)");break;}
retval=new batavia.core.List(new Array(n));for(i=0;i<n;i++){retval[n]=batavia.modules.marshal.r_object(vm,p);}
if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_DICT:retval=batavia.core.Dict();for(;;){var key,val;key=r_object(p);if(key===undefined)
break;val=r_object(p);if(val===undefined){break;}
retval[key]=val;}
if(vm.PyErr_Occurred()){retval=null;}
if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}
break;case batavia.modules.marshal.TYPE_SET:case batavia.modules.marshal.TYPE_FROZENSET:n=batavia.modules.marshal.r_long(vm,p);if(vm.PyErr_Occurred()){break;}
if(n<0||n>batavia.modules.marshal.SIZE32_MAX){vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (set size out of range)");break;}
if(type==batavia.modules.marshal.TYPE_SET){retval=batavia.core.Set(null);if(flag){batavia.modules.marshal.r_ref(vm,retval,flag,p);}}else{retval=batavia.core.FrozenSet(null);idx=batavia.modules.marshal.r_ref_reserve(flag,p);if(idx<0){Py_CLEAR(v);}}
for(i=0;i<n;i++){retval.add(r_object(p));}
if(type!=batavia.modules.marshal.TYPE_SET){retval=batavia.modules.marshal.r_ref_insert(retval,idx,flag,p);}
break;case batavia.modules.marshal.TYPE_CODE:var argcount;var kwonlyargcount;var nlocals;var stacksize;var flags;var consts;var names;var varnames;var freevars;var cellvars;var filename;var name;var firstlineno;var lnotab;idx=batavia.modules.marshal.r_ref_reserve(vm,flag,p);if(idx<0){break;}
v=null;argcount=batavia.modules.marshal.r_long(vm,p);kwonlyargcount=batavia.modules.marshal.r_long(vm,p);nlocals=batavia.modules.marshal.r_long(vm,p);stacksize=batavia.modules.marshal.r_long(vm,p);flags=batavia.modules.marshal.r_long(vm,p);code=batavia.modules.marshal.r_object(vm,p);consts=batavia.modules.marshal.r_object(vm,p);names=batavia.modules.marshal.r_object(vm,p);varnames=batavia.modules.marshal.r_object(vm,p);freevars=batavia.modules.marshal.r_object(vm,p);cellvars=batavia.modules.marshal.r_object(vm,p);filename=batavia.modules.marshal.r_object(vm,p);name=batavia.modules.marshal.r_object(vm,p);firstlineno=batavia.modules.marshal.r_long(vm,p);lnotab=batavia.modules.marshal.r_object(vm,p);if(filename){p.current_filename=filename;}
v=new batavia.core.Code({argcount:argcount,kwonlyargcount:kwonlyargcount,nlocals:nlocals,stacksize:stacksize,flags:flags,code:code.split('').map(function(b){return b.charCodeAt();}),consts:consts,names:names,varnames:varnames,freevars:freevars,cellvars:cellvars,filename:filename,name:name,firstlineno:firstlineno,lnotab:lnotab});v=batavia.modules.marshal.r_ref_insert(vm,v,idx,flag,p);retval=v;break;case batavia.modules.marshal.TYPE_REF:n=batavia.modules.marshal.r_long(vm,p);if(n<0||n>=p.refs.length){if(n==-1&&vm.PyErr_Occurred())
break;vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (invalid reference)");break;}
v=p.refs[n];if(v===null){vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (invalid reference)");break;}
retval=v;break;default:vm.PyErr_SetString(batavia.builtins.ValueError,"bad marshal data (unknown type code '"+type+"')");break;}
p.depth--;return retval;},read_object:function(vm,p){var v;if(vm.PyErr_Occurred()){console.log("readobject called with exception set\n");return null;}
v=batavia.modules.marshal.r_object(vm,p);if(v===null&&!vm.PyErr_Occurred()){vm.PyErr_SetString(batavia.builtins.TypeError,"null object in marshal data for object");}
return v;},load_pyc:function(vm,payload){if(payload===null||payload.length===0){throw new batavia.builtins.BataviaError('Empty PYC payload');}else if(payload.startswith('ERROR:')){throw new batavia.builtins.BataviaError('Traceback (most recent call last):\n'+payload.slice(6).split('\\n').join('\n'));}
return batavia.modules.marshal.read_object(vm,new batavia.core.PYCFile(atob(payload)));}};batavia.modules.inspect={FullArgSpec:function(kwargs){this.args=kwargs.args||[];this.varargs=kwargs.getcallargs;this.varkw=kwargs.varkw;this.defaults=kwargs.defaults||{};this.kwonlyargs=kwargs.kwonlyargs||[];this.kwonlydefaults=kwargs.kwonlydefaults||{};this.annotations=kwargs.annotations||{};},_signature_get_user_defined_method:function(cls,method_name){},_signature_bound_method:function(sig){var params=sig.parameters.values();if(!params||params[0].kind in(_VAR_KEYWORD,_KEYWORD_ONLY)){throw new batavia.builtins.ValueError('invalid method signature');}
var kind=params[0].kind;if(kind in(_POSITIONAL_OR_KEYWORD,_POSITIONAL_ONLY)){params=params.slice(1);}else{if(kind!==_VAR_POSITIONAL){throw new batavia.builtins.ValueError('invalid argument type');}
}
return sig.replace(parameters=params);},_signature_internal:function(obj,follow_wrapper_chains,skip_bound_arg){return batavia.modules.inspect.Signature.from_function(obj);},getfullargspec:function(func){var sig=batavia.modules.inspect._signature_internal(func,false,false);var args=[];var varargs=null;var varkw=null;var kwonlyargs=[];var defaults=[];var annotations={};var kwdefaults={};if(sig.return_annotation.length>0){annotations['return']=sig.return_annotation;}
for(var p in sig.parameters){if(sig.parameters.hasOwnProperty(p)){var param=sig.parameters[p];if(param.kind===batavia.modules.inspect.Parameter.POSITIONAL_ONLY){args.push(param.name);}else if(param.kind===batavia.modules.inspect.Parameter.POSITIONAL_OR_KEYWORD){args.push(param.name);if(param.default!==undefined){defaults.push(param.default);}}else if(param.kind===batavia.modules.inspect.Parameter.VAR_POSITIONAL){varargs=param.name;}else if(param.kind===batavia.modules.inspect.Parameter.KEYWORD_ONLY){kwonlyargs.push(param.name);if(param.default!==undefined){kwdefaults[param.name]=param.default;}}else if(param.kind===batavia.modules.inspect.Parameter.VAR_KEYWORD){varkw=param.name;}
if(param.annotation!==undefined){annotations[param.name]=param.annotation;}}}
if(kwdefaults.length===0){kwdefaults=null;}
if(defaults.length===0){defaults=null;}
return new batavia.modules.inspect.FullArgSpec({'args':args,'varargs':varargs,'varkw':varkw,'defaults':defaults,'kwonlyargs':kwonlyargs,'kwdefaults':kwdefaults,'annotations':annotations});},_missing_arguments:function(f_name,argnames,pos,values){throw"Missing arguments";},_too_many:function(f_name,args,kwonly,varargs,defcount,given,values){throw"FIXME: Too many arguments";},getcallargs:function(func,positional,named){var arg2value={};if(func.__self__){positional=[func.__self__].concat(positional);}
var num_pos=positional.length;var num_args=func.argspec.args.length;var num_defaults=func.argspec.defaults?func.argspec.defaults.length:0;var i,arg;var n=Math.min(num_pos,num_args);for(i=0;i<n;i++){arg2value[func.argspec.args[i]]=positional[i];}
if(func.argspec.varargs){arg2value[varargs]=positional.slice(n);}
var possible_kwargs=new batavia.core.Set();possible_kwargs.update(func.argspec.args);possible_kwargs.update(func.argspec.kwonlyargs);if(func.argspec.varkw){arg2value[func.argspec.varkw]={};}
for(var kw in named){if(named.hasOwnProperty(kw)){if(!(kw in possible_kwargs)){if(!func.argspec.varkw){throw new batavia.builtins.TypeError("%s() got an unexpected keyword argument %r"%(func.__name__,kw));}
arg2value[func.argspec.varkw][kw]=named[kw];continue;}
if(kw in arg2value){throw new batavia.builtins.TypeError("%s() got multiple values for argument %r"%(func.__name__,kw));}
arg2value[kw]=named[kw];}}
if(num_pos>num_args&&(func.argspec.varargs===undefined||func.argspec.varargs.length===0)){batavia.modules.inspect._too_many(func.__name__,func.argspec.args,func.argspec.kwonlyargs,func.argspec.varargs,num_defaults,num_pos,arg2value);}
if(num_pos<num_args){var req=func.argspec.args.slice(0,num_args-num_defaults);for(arg in req){if(req.hasOwnProperty(arg)){if(!(req[arg]in arg2value)){batavia.modules.inspect._missing_arguments(func.__name__,req,true,arg2value);}}}
for(i=num_args-num_defaults;i<func.argspec.args.length;i++){arg=func.argspec.args[i];if(!arg2value.hasOwnProperty(arg)){arg2value[arg]=func.argspec.defaults[i-num_pos];}}}
var missing=0;for(var kwarg in func.argspec.kwonlyargs){if(func.argspec.kwonlydefaults.hasOwnProperty(kwarg)){if(!arg2value.hasOwnProperty(kwarg)){if(func.argspec.kwonlydefaults.hasOwnProperty(kwarg)){arg2value[kwarg]=func.argspec.kwonlydefaults[kwarg];}else{missing+=1;}}}}
if(missing){batavia.modules.inspect._missing_arguments(func.__name__,func.argspec.kwonlyargs,false,arg2value);}
return arg2value;}};batavia.modules.inspect.CO_OPTIMIZED=0x1;batavia.modules.inspect.CO_NEWLOCALS=0x2;batavia.modules.inspect.CO_VARARGS=0x4;batavia.modules.inspect.CO_VARKEYWORDS=0x8;batavia.modules.inspect.CO_NESTED=0x10;batavia.modules.inspect.CO_GENERATOR=0x20;batavia.modules.inspect.CO_NOFREE=0x40;batavia.modules.inspect.Parameter=function(kwargs){this.name=kwargs.name;this.kind=kwargs.kind;this.annotation=kwargs.annotation;this.default=kwargs.default;};batavia.modules.inspect.Parameter.POSITIONAL_ONLY=0;batavia.modules.inspect.Parameter.POSITIONAL_OR_KEYWORD=1;batavia.modules.inspect.Parameter.VAR_POSITIONAL=2;batavia.modules.inspect.Parameter.KEYWORD_ONLY=3;batavia.modules.inspect.Parameter.VAR_KEYWORD=4;batavia.modules.inspect.Parameter.prototype.replace=function(kwargs){var name=kwargs.name||this.name;var kind=kwargs.kind||this.kind;var annotation=kwargs.annotation||this.annotation;var def=kwargs.default||this.default;return new batavia.modules.inspect.Paramter(name,kind,def,annotation);};batavia.modules.inspect.Signature=function(parameters,return_annotation,__validate_parameters__){this.parameters={};if(parameters!==null){if(__validate_parameters__){}else{for(var p in parameters){if(parameters.hasOwnProperty(p)){this.parameters[parameters[p].name]=parameters[p];}}}}
this.return_annotation=return_annotation;};batavia.modules.inspect.Signature.from_function=function(func){var is_duck_function=false;var func_code=func.__code__;var pos_count=func_code.co_argcount;var arg_names=func_code.co_varnames;var positional=arg_names.slice(0,pos_count);var keyword_only_count=func_code.co_kwonlyargcount;var keyword_only=arg_names.slice(pos_count,pos_count+keyword_only_count);var annotations=func.__annotations__;var defs=func.__defaults__;var kwdefaults=func.__kwdefaults__;var pos_default_count;if(defs){pos_default_count=defs.length;}else{pos_default_count=0;}
var parameters=[];var n,name,annotation,def,offset;var non_default_count=pos_count-pos_default_count;for(n=0;n<non_default_count;n++){name=positional[n];annotation=annotations[name];parameters.push(new batavia.modules.inspect.Parameter({'name':name,'annotation':annotation,'kind':batavia.modules.inspect.Parameter.POSITIONAL_OR_KEYWORD}));}
for(offset=0,n=non_default_count;n<positional.length;offset++,n++){name=positional[n];annotation=annotations[name];parameters.push(new batavia.modules.inspect.Parameter({'name':name,'annotation':annotation,'kind':batavia.modules.inspect.Parameter.POSITIONAL_OR_KEYWORD,'default':defs[offset]}));}
if(func_code.co_flags&batavia.modules.inspect.CO_VARARGS){name=arg_names[pos_count+keyword_only_count];annotation=annotations[name];parameters.push(new batavia.modules.inspect.Parameter({'name':name,'annotation':annotation,'kind':batavia.modules.inspect.Parameter.VAR_POSITIONAL}));}
for(n=0;n<keyword_only.length;n++){def=null;if(kwdefaults!==null){def=kwdefaults[name];}
annotation=annotations[name];parameters.push(new batavia.modules.inspect.Parameter({'name':name,'annotation':annotation,'kind':batavia.modules.inspect.Parameter.KEYWORD_ONLY,'default':def}));}
if(func_code.co_flags&batavia.modules.inspect.CO_VARKEYWORDS){var index=pos_count+keyword_only_count;if(func_code.co_flags&batavia.modules.inspect.CO_VARARGS){index+=1;}
name=arg_names[index];annotation=annotations[name];parameters.push(new batavia.modules.inspect.Parameter({'name':name,'annotation':annotation,'kind':batavia.modules.inspect.Parameter.VAR_KEYWORD}));}
return new batavia.modules.inspect.Signature(parameters,annotations['return']||{},is_duck_function);};batavia.modules.sys={'modules':{}};batavia.modules.time={clock:function(){return new Date().getTime();}};batavia.core.Block=function(type,handler,level){this.type=type;this.handler=handler;this.level=level||0;};batavia.builtins.__import__=function(args,kwargs){var module=batavia.modules[args[0]];if(module===undefined){module=batavia.modules.sys.modules[args[0]];}
if(module===undefined){var name_parts=args[0].split('.');var name=name_parts[0];try{var root_module=batavia.modules.sys.modules[name];var payload,code,frame;if(root_module===undefined){payload=this.loader(name);code=batavia.modules.marshal.load_pyc(this,payload);frame=this.make_frame({'code':code,'f_globals':args[1],'f_locals':new batavia.core.Dict(),});this.run_frame(frame);root_module=new batavia.core.Module(name,frame.f_locals);batavia.modules.sys.modules[name]=root_module;}
var sub_module=root_module;for(var n=1;n<name_parts.length;n++){name=name_parts.slice(0,n+1).join('.');var new_sub=batavia.modules.sys.modules[name];if(new_sub===undefined){payload=this.loader(name);code=batavia.modules.marshal.load_pyc(this,payload);frame=this.make_frame({'code':code,'f_globals':args[1],'f_locals':new batavia.core.Dict(),});this.run_frame(frame);new_sub=new batavia.core.Module(name,frame.f_locals);sub_module[name_parts[n]]=new_sub;sub_module=new_sub;batavia.modules.sys.modules[name]=sub_module;}else{sub_module=new_sub;}}
if(args[3]===null){module=root_module;}else if(args[3][0]==="*"){module=new batavia.core.Module(sub_module.__name__);for(name in sub_module){if(sub_module.hasOwnProperty(name)){module[name]=sub_module[name];}}}else{module=new batavia.core.Module(sub_module.__name__);for(var sn=0;sn<args[3].length;sn++){name=args[3][sn];if(sub_module[name]===undefined){batavia.builtins.__import__.apply(this,[[sub_module.__name__+'.'+name,this.frame.f_globals,null,null,null]]);}
module[name]=sub_module[name];}}}catch(err){var root_module=window[name];batavia.modules.sys.modules[name]=root_module;var sub_module=root_module;for(var n=1;n<name_parts.length;n++){name=name_parts.slice(0,n+1).join('.');sub_module=sub_module[name_parts[n]];batavia.modules.sys.modules[name]=sub_module;}
if(args[3]===null){module=root_module;}else if(args[3][0]==="*"){module={};for(name in sub_module){if(sub_module.hasOwnProperty(name)){module[name]=sub_module[name];}}}else{module={};for(var nn=0;nn<args[3].length;nn++){name=args[3][nn];module[name]=sub_module[name];}}}}
return module;};batavia.builtins.abs=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("abs() doesn't accept keyword arguments");}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('abs() expected exactly 1 argument ('+args.length+' given)');}
if(args[0]===null){throw new batavia.builtins.TypeError("bad operand type for abs(): 'NoneType'");}
return Math.abs(args[0]);};batavia.builtins.abs.__doc__='abs(number) -> number\n\nReturn the absolute value of the argument.';batavia.builtins.all=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("all() doesn't accept keyword arguments");}
if(args.length===0){return true;}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('all() expected exactly 0 or 1 argument ('+args.length+' given)');}
for(var i in args[0]){if(!args[0][i]){return false;}}
return true;};batavia.builtins.all.__doc__='all(iterable) -> bool\n\nReturn True if bool(x) is True for all values x in the iterable.\nIf the iterable is empty, return True.';batavia.builtins.any=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("any() doesn't accept keyword arguments");}
if(args.length===0){return false;}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('any() expected exactly 0 or 1 arguments ('+args.length+' given)');}
for(var i in args[0]){if(args[0][i]){return true;}}
return false;};batavia.builtins.any.__doc__='any(iterable) -> bool\n\nReturn True if bool(x) is True for any x in the iterable.\nIf the iterable is empty, return False.';batavia.builtins.bin=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("bin() doesn't accept keyword arguments");}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('bin() expected exactly 1 argument ('+args.length+' given)');}
var variable=args[0];if(typeof(variable)!=="number"){throw new batavia.builtins.TypeError("bin() expects a number ("+typeof(variable)+" given)");}
return"0b"+variable.toString(2);};batavia.builtins.bin.__doc__="bin(number) -> string\n\nReturn the binary representation of an integer.\n\n   ";batavia.builtins.bool=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("bool() doesn't accept keyword arguments");}
if(!args||args.length===0){return false;}else if(args.length!=1){throw new batavia.builtins.TypeError('bool() expected exactly 1 argument ('+args.length+' given)');}
return!!args[0];};batavia.builtins.bool.__doc__='bool(x) -> bool\n\nReturns True when the argument x is true, False otherwise.\nThe builtins True and False are the only two instances of the class bool.\nThe class bool is a subclass of the class int, and cannot be subclassed.';batavia.builtins.bytearray=function(args,kwargs){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'bytearray' not implemented");};batavia.builtins.bytearray.__doc__='bytearray(iterable_of_ints) -> bytearray\nbytearray(string, encoding[, errors]) -> bytearray\nbytearray(bytes_or_buffer) -> mutable copy of bytes_or_buffer\nbytearray(int) -> bytes array of size given by the parameter initialized with null bytes\nbytearray() -> empty bytes array\n\nConstruct an mutable bytearray object from:\n  - an iterable yielding integers in range(256)\n  - a text string encoded using the specified encoding\n  - a bytes or a buffer object\n  - any object implementing the buffer API.\n  - an integer';batavia.builtins.bytes=function(args,kwargs){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'bytes' not implemented");};batavia.builtins.bytes.__doc__='bytes(iterable_of_ints) -> bytes\nbytes(string, encoding[, errors]) -> bytes\nbytes(bytes_or_buffer) -> immutable copy of bytes_or_buffer\nbytes(int) -> bytes object of size given by the parameter initialized with null bytes\nbytes() -> empty bytes object\n\nConstruct an immutable array of bytes from:\n  - an iterable yielding integers in range(256)\n  - a text string encoded using the specified encoding\n  - any object implementing the buffer API.\n  - an integer';batavia.builtins.callable=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("callable() doesn't accept keyword arguments");}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('callable() expected exactly 1 argument ('+args.length+' given)');}
if(typeof(args[0])==="function"){return true;}else{return false;}};batavia.builtins.callable.__doc__='callable(object) -> bool\n\nReturn whether the object is callable (i.e., some kind of function).\nNote that classes are callable, as are instances of classes with a\n__call__() method.';batavia.builtins.chr=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("char() doesn't accept keyword arguments");}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('char() expected exactly 1 argument ('+args.length+' given)');}
return String.fromCharCode(args[0]);};batavia.builtins.chr.__doc__='chr(i) -> Unicode character\n\nReturn a Unicode string of one character with ordinal i; 0 <= i <= 0x10ffff.';batavia.builtins.classmethod=function(args,kwargs){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'classmethod' not implemented");};batavia.builtins.classmethod.__doc__='classmethod(function) -> method\n\nConvert a function to be a class method.\n\nA class method receives the class as implicit first argument,\njust like an instance method receives the instance.\nTo declare a class method, use this idiom:\n\n  class C:\n      def f(cls, arg1, arg2, ...): ...\n      f = classmethod(f)\n\nIt can be called either on the class (e.g. C.f()) or on an instance\n(e.g. C().f()).  The instance is ignored except for its class.\nIf a class method is called for a derived class, the derived class\nobject is passed as the implied first argument.\n\nClass methods are different than C++ or Java static methods.\nIf you want those, see the staticmethod builtin.';batavia.builtins.compile=function(args,kwargs){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'compile' not implemented");};batavia.builtins.compile.__doc__="compile(source, filename, mode[, flags[, dont_inherit]]) -> code object\n\nCompile the source (a Python module, statement or expression)\ninto a code object that can be executed by exec() or eval().\nThe filename will be used for run-time error messages.\nThe mode must be 'exec' to compile a module, 'single' to compile a\nsingle (interactive) statement, or 'eval' to compile an expression.\nThe flags argument, if present, controls which future statements influence\nthe compilation of the code.\nThe dont_inherit argument, if non-zero, stops the compilation inheriting\nthe effects of any future statements in effect in the code calling\ncompile; if absent or zero these statements do influence the compilation,\nin addition to any features explicitly specified.";batavia.builtins.complex=function(args,kwargs){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'complex' not implemented");};batavia.builtins.complex.__doc__='complex(real[, imag]) -> complex number\n\nCreate a complex number from a real part and an optional imaginary part.\nThis is equivalent to (real + imag*1j) where imag defaults to 0.';batavia.builtins.copyright=function(args,kwargs){console.log("Batavia: Copyright (c) 2015 Russell Keith-Magee. (BSD-3 Licence)\n"+
"byterun: Copyright (c) 2013, Ned Batchelder. (MIT Licence)");};batavia.builtins.copyright.__doc__='interactive prompt objects for printing the license text, a list of\n    contributors and the copyright notice.';batavia.builtins.credits=function(args,kwargs){console.log("Thanks to all contributors, including those in AUTHORS, for supporting Batavia development. See https://github.com/pybee/batavia for more information");};batavia.builtins.credits.__doc__='interactive prompt objects for printing the license text, a list of\n    contributors and the copyright notice.';batavia.builtins.delattr=function(args,kwargs){if(args){try{if(batavia.builtins.getattr(args)){delete args[0][args[1]];return false;}}catch(err){if(err instanceof batavia.builtins.AttributeError){throw new batavia.builtins.AttributeError(args[1]);}
if(err instanceof batavia.builtins.TypeError){throw new batavia.builtins.TypeError("delattr expected 2 arguments, got "+args.length);}}}else{throw new batavia.builtins.TypeError("delattr expected 2 arguments, got 0");}};batavia.builtins.delattr.__doc__="delattr(object, name)\n\nDelete a named attribute on an object; delattr(x, 'y') is equivalent to\n``del x.y''.";batavia.builtins.dict=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(args.length>1){throw new batavia.builtins.TypeError("dict expected at most 1 arguments, got "+args.length);}
if(typeof args[0]==="number"){if(args[0].toString().indexOf('.')>0){throw new batavia.builtins.TypeError("'float' object is not iterable");}
throw new batavia.builtins.TypeError("'int' object is not iterable");}
if(typeof args[0]==="string"||args[0]instanceof String){throw new batavia.builtins.ValueError("dictionary update sequence element #0 has length 1; 2 is required");}
if(args.length===1&&args.constructor===Array){for(i=0;i<args[0].length;i++){if(args[0][i].length!==2){if(typeof(args[0][i])==="number"){throw new batavia.builtins.TypeError("cannot convert dictionary update sequence element #"+i+" to a sequence");}
else{throw new batavia.builtins.ValueError("dictionary update sequence element #"+i+" has length "+args[0][i].length+"; 2 is required");}}}}
if(args.length===0||args[0].length===0){if(kwargs){return kwargs;}
else{return{};}}
if(args[0].constructor===Object){return args[0];}
if(args.length===1){var dict={};for(i=0;i<args[0].length;i++){var sub_array=args[0][i];if(sub_array.length===2){dict[sub_array[0]]=sub_array[1];}}
return dict;}};batavia.builtins.dict.__doc__="dict() -> new empty dictionary\ndict(mapping) -> new dictionary initialized from a mapping object's\n    (key, value) pairs\ndict(iterable) -> new dictionary initialized as if via:\n    d = {}\n    for k, v in iterable:\n        d[k] = v\ndict(**kwargs) -> new dictionary initialized with the name=value pairs\n    in the keyword argument list.  For example:  dict(one=1, two=2)";batavia.builtins.dir=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("dir() doesn't accept keyword arguments");}
if(!args||args.length!=1){throw new batavia.builtins.TypeError('dir() expected exactly 1 argument ('+args.length+' given)');}
return Object.keys(args[0]);};batavia.builtins.dir.__doc__="dir([object]) -> list of strings\n\nIf called without an argument, return the names in the current scope.\nElse, return an alphabetized list of names comprising (some of) the attributes\nof the given object, and of attributes reachable from it.\nIf the object supplies a method named __dir__, it will be used; otherwise\nthe default dir() logic is used and returns:\n  for a module object: the module's attributes.\n  for a class object:  its attributes, and recursively the attributes\n    of its bases.\n  for any other object: its attributes, its class's attributes, and\n    recursively the attributes of its class's base classes.";batavia.builtins.divmod=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("divmod() doesn't accept keyword arguments");}
if(!args||args.length!=2){throw new batavia.builtins.TypeError('divmod() expected exactly 2 argument ('+args.length+' given)');}
div=Math.floor(args[0]/args[1]);rem=args[0]%args[1];return new batavia.core.Tuple([div,rem]);};batavia.builtins.divmod.__doc__='Return the tuple ((x-x%y)/y, x%y).  Invariant: div*y + mod == x.';batavia.builtins.enumerate=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("enumerate() doesn't accept keyword arguments");}
var result=[];var values=args[0];for(i=0;i<values.length;i++){result.push([i,values[i]]);}
return result;};batavia.builtins.enumerate.__doc__='enumerate(iterable[, start]) -> iterator for index, value of iterable\n\nReturn an enumerate object.  iterable must be another object that supports\niteration.  The enumerate object yields pairs containing a count (from\nstart, which defaults to zero) and a value yielded by the iterable argument.\nenumerate is useful for obtaining an indexed list:\n    (0, seq[0]), (1, seq[1]), (2, seq[2]), ...';batavia.builtins.eval=function(args,kwargs){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'eval' not implemented");};batavia.builtins.exit=function(args,kwargs){console.log("Goodbye");};batavia.builtins.file=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'file' not implemented");};batavia.builtins.filter=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'filter' not implemented");};batavia.builtins.float=function(args){if(args.length>1){throw new batavia.builtins.TypeError("float() takes at most 1 argument ("+args.length+" given)");}
if(args.length===0){return 0.0;}
var toConvert=args[0];if(typeof(toConvert)==="string"){if(toConvert.search(/[^0-9.]/g)===-1){return parseFloat(toConvert);}else{if(toConvert==="nan"||toConvert==="+nan"||toConvert==="-nan"){return NaN;}else if(toConvert==="inf"||toConvert==="+inf"){return Infinity;}else if(toConvert==="-inf"){return-Infinity;}
throw new batavia.builtins.ValueError("could not convert string to float: '"+args[0]+"'");}}else if(typeof(args[0])==="number"){return args[0].toFixed(1);}};batavia.builtins.float.__doc__='float([x]) -> Convert a string or a number to floating point.';batavia.builtins.format=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'format' not implemented");};batavia.builtins.frozenset=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'frozenset' not implemented");};batavia.builtins.getattr=function(args){if(args){var attr=args[0][args[1]];if(attr!==undefined){return attr;}else{if(args.length===3){return args[2];}else if(args.length===2){throw new batavia.builtins.AttributeError("'"+args[0]+"' object has no attribute '"+args[1]+"'");}else if(args.length<2){throw new batavia.builtins.TypeError("getattr expected at least 2 arguments, got "+args.length);}else{throw new batavia.builtins.TypeError("getattr expected at most 3 arguments, got "+args.length);}}}else{throw new batavia.builtins.TypeError("getattr expected at least 2 arguments, got 0");}};batavia.builtins.globals=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'globals' not implemented");};batavia.builtins.hasattr=function(args){if(args){try{if(batavia.builtins.getattr(args)){return true;}}catch(err){if(err instanceof batavia.builtins.AttributeError){return false;}
if(err instanceof batavia.builtins.TypeError){throw new batavia.builtins.TypeError("hasattr expected 2 arguments, got "+args.length);}}}else{throw new batavia.builtins.TypeError("hasattr expected 2 arguments, got 0");}};batavia.builtins.hash=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'hash' not implemented");};batavia.builtins.help=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'help' not implemented");};batavia.builtins.hex=function(args){if(args.length!==1){throw new batavia.builtins.TypeError("hex() takes exactly one argument ("+args.length+" given)");}
return"0x"+args[0].toString(16);};batavia.builtins.id=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'id' not implemented");};batavia.builtins.input=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'input' not implemented");};batavia.builtins.int=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("int() doesn't accept keyword arguments");}
var base=10;var value=0;if(args&&args.length===1){value=args[0];}else if(args&&args.length===2){value=args[0];base=args[1];}else{throw new batavia.builtins.TypeError("int() takes at most 2 arguments ("+args.length+" given)");}
var result=parseInt(value,base);if(isNaN(result)){throw new batavia.builtins.ValueError("invalid literal for int() with base 10: "+batavia.builtins.repr([value],null));}
return result;};batavia.builtins.int.__doc__="int(x=0) -> integer\nint(x, base=10) -> integer\n\nConvert a number or string to an integer, or return 0 if no arguments\nare given.  If x is a number, return x.__int__().  For floating point\nnumbers, this truncates towards zero.\n\nIf x is not a number or if base is given, then x must be a string,\nbytes, or bytearray instance representing an integer literal in the\ngiven base.  The literal can be preceded by '+' or '-' and be surrounded\nby whitespace.  The base defaults to 10.  Valid bases are 0 and 2-36.\nBase 0 means to interpret the base from the string as an integer literal.\n>>> int('0b100', base=0)\n4";batavia.builtins.intern=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'intern' not implemented");};batavia.builtins.isinstance=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'isinstance' not implemented");};batavia.builtins.issubclass=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'issubclass' not implemented");};batavia.builtins.iter=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("len() doesn't accept keyword arguments");}
if(!args||args.length===0){throw new batavia.builtins.TypeError("len() expected at least 1 arguments, got 0");}
if(args.length==2){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'iter' with callable/sentinet not implemented");}
if(args.length>2){throw new batavia.builtins.TypeError("len() expected at most 2 arguments, got 3");}
if(args[0].__iter__){return args[0].__iter__();}else if(args[0]instanceof Array){return new batavia.core.list_iterator(args[0]);}else if(args[0]instanceof String||typeof args[0]==="string"){return new batavia.core.str_iterator(args[0]);}else{throw new batavia.builtins.TypeError("'"+(typeof args[0])+"' object is not iterable");}};batavia.builtins.iter.__doc__='iter(iterable) -> iterator\niter(callable, sentinel) -> iterator\n\nGet an iterator from an object.  In the first form, the argument must\nsupply its own iterator, or be a sequence.\nIn the second form, the callable is called until it returns the sentinel.';batavia.builtins.len=function(args,kwargs){if(!args||args.length!==1||args[0]===undefined){throw new batavia.builtins.TypeError("len() takes exactly one argument (0 given)");}
return args[0].length;};batavia.builtins.len.__doc__='len(object)\n\nReturn the number of items of a sequence or collection.';batavia.builtins.license=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'license' not implemented");};batavia.builtins.list=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'list' not implemented");};batavia.builtins.locals=function(){return this.frame.f_locals;};batavia.builtins.long=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'long' not implemented");};batavia.builtins.map=function(args,kwargs){args[0].call(this,[args[1]],{});};batavia.builtins.max=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("max() doesn't accept keyword arguments");}
if(!args||args.length===0){throw new batavia.builtins.TypeError('max() expected at least 1 argument, got '+args.length);}
return Math.max.apply(null,args[0]);};batavia.builtins.max.__doc__="max(iterable, *[, default=obj, key=func]) -> value\nmax(arg1, arg2, *args, *[, key=func]) -> value\n\nWith a single iterable argument, return its biggest item. The\ndefault keyword-only argument specifies an object to return if\nthe provided iterable is empty.\nWith two or more arguments, return the largest argument.";batavia.builtins.memoryview=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'memoryview' not implemented");};batavia.builtins.min=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("min() doesn't accept keyword arguments");}
if(!args||args.length===0){throw new batavia.builtins.TypeError('min() expected at least 1 argument, got '+args.length);}
return Math.min.apply(null,args[0]);};batavia.builtins.min.__doc__="min(iterable, *[, default=obj, key=func]) -> value\nmin(arg1, arg2, *args, *[, key=func]) -> value\n\nWith a single iterable argument, return its smallest item. The\ndefault keyword-only argument specifies an object to return if\nthe provided iterable is empty.\nWith two or more arguments, return the smallest argument.";batavia.builtins.next=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'next' not implemented");};batavia.builtins.object=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'object' not implemented");};batavia.builtins.oct=function(args){if(args.length!==1)
throw new batavia.builtins.TypeError("oct() takes exactly one argument ("+args.length+" given)");return"0o"+args[0].toString(8);};batavia.builtins.open=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'open' not implemented");};batavia.builtins.ord=function(args,kwargs){return args[0].charCodeAt(0);};batavia.builtins.pow=function(args){var x,y,z;if(args.length===2){x=args[0];y=args[1];return Math.pow(x,y);}else if(args.length===3){x=args[0];y=args[1];z=args[2];return Math.pow(x,y)%z;}else{throw new batavia.builtins.TypeError("pow() takes two or three arguments ("+args.length+" given)");}};batavia.builtins.print=function(args,kwargs){var elements=[],print_value;args.map(function(elm){if(elm===null){elements.push("None");}else{elements.push(elm.__str__?elm.__str__():elm.toString());}});batavia.stdout(elements.join(' ')+"\n");};batavia.builtins.property=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'property' not implemented");};batavia.builtins.quit=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'quit' not implemented");};batavia.builtins.range=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("range() doesn't accept keyword arguments");}
if(!args||args.length===0){throw new batavia.builtins.TypeError('range() expected 1 arguments, got '+args.length);}
if(args.length>3){throw new batavia.builtins.TypeError('range() expected at most 3 arguments, got '+args.length);}
return new batavia.core.range(args[0],args[1],args[2]);};batavia.builtins.range.__doc__='range(stop) -> range object\nrange(start, stop[, step]) -> range object\n\nReturn a virtual sequence of numbers from start to stop by step.';batavia.builtins.raw_input=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'raw_input' not implemented");};batavia.builtins.reduce=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'reduce' not implemented");};batavia.builtins.reload=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'reload' not implemented");};batavia.builtins.repr=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("repr() doesn't accept keyword arguments");}
if(!args||args.length!==1){throw new batavia.builtins.TypeError('repr() takes exactly 1 argument ('+args.length+' given)');}
if(args[0]['__repr__']){return args[0].__repr__();}else{return args[0].toString();}};batavia.builtins.repr.__doc__='repr(object) -> string\n\nReturn the canonical string representation of the object.\nFor most object types, eval(repr(object)) == object.';batavia.builtins.reversed=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'reversed' not implemented");};batavia.builtins.round=function(args){var p=0;if(args.length==2){p=args[1];}
var base=Math.pow(10,p);return Math.round(args[0]*base)/base;};batavia.builtins.set=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'set' not implemented");};batavia.builtins.setattr=function(args){if(args.length!==3){throw new batavia.builtins.TypeError("setattr expected exactly 3 arguments, got "+args.length);}
args[0][args[1]]=args[2];};batavia.builtins.slice=function(args,kwargs){if(args.length==1){return{start:0,stop:args[0],step:1};}else{return{start:args[0],stop:args[1],step:args[2]||1};}};batavia.builtins.sorted=function(args,kwargs){var validatedInput=batavia.builtins.sorted._validateInput(args,kwargs);var iterable=validatedInput["iterable"];if(iterable instanceof Array){iterable=iterable.map(validatedInput["preparingFunction"]);iterable.sort(function(a,b){if(a["key"]>b["key"]){return validatedInput["bigger"];}
if(a["key"]<b["key"]){return validatedInput["smaller"];}
return 0;});return new batavia.core.List(iterable.map(function(element){return element["value"];}));}
throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'sorted' not implemented for objects");};batavia.builtins.sorted._validateInput=function(args,kwargs,undefined){var bigger=1;var smaller=-1;var preparingFunction=function(value){return{"key":value,"value":value};};if(kwargs!==undefined){if(kwargs['iterable']!==undefined){throw new batavia.builtins.TypeError("'iterable' is an invalid keyword argument for this function");}
if(kwargs["reverse"]!==undefined&&kwargs["reverse"]===true){bigger=-1;smaller=1;}
if(kwargs["key"]!==undefined){throw new batavia.builtins.NotImplementedError('Builtin Batavia sorted function "key" function is not implemented.');}}
if(args===undefined||args.length===0){throw new batavia.builtins.TypeError("Required argument 'iterable' (pos 1) not found");}
return{iterable:args[0],bigger:bigger,smaller:smaller,preparingFunction:preparingFunction};};batavia.builtins.staticmethod=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'staticmethod' not implemented");};batavia.builtins.str=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("str() doesn't accept keyword arguments");}
if(!args||args.length!==1){throw new batavia.builtins.TypeError('str() takes exactly 1 argument ('+args.length+' given)');}
if(args[0]['__str__']){return args[0].__str__();}else{return args[0].toString();}};batavia.builtins.str.__doc__='str(object) -> string\n\nReturn the canonical string representation of the object.\nFor most object types, eval(repr(object)) == object.';batavia.builtins.sum=function(args,kwargs){if(arguments.length!=2){throw new batavia.builtins.BataviaError('Batavia calling convention not used.');}
if(kwargs&&Object.keys(kwargs).length>0){throw new batavia.builtins.TypeError("sum() doesn't accept keyword arguments");}
if(!args||args.length===0){throw new batavia.builtins.TypeError('sum() expected at least 1 argument, got '+args.length);}
if(args.length>2){throw new batavia.builtins.TypeError('sum() expected at most 2 argument, got '+args.length);}
var total=0;try{total=args[0].reduce(function(a,b){return a+b;});}catch(err){throw new batavia.builtins.TypeError("bad operand type for sum(): 'NoneType'");}
return total;};batavia.builtins.super=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'super' not implemented");};batavia.builtins.tuple=function(args){return new batavia.core.Tuple(args[0]);};batavia.builtins.type=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'type' not implemented");};batavia.builtins.unichr=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'unichr' not implemented");};batavia.builtins.unicode=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'unicode' not implemented");};batavia.builtins.vars=function(){throw new batavia.builtins.NotImplementedError("Builtin Batavia function 'vars' not implemented");};batavia.builtins.zip=function(args,undefined){if(args===undefined){return[];}
var minLen=Math.min.apply(null,args.map(function(element){return element.length;}));if(minLen===0){return[];}
var result=[];for(var i=0;i<minLen;i++){var sequence=[];for(var iterableObj=0;iterableObj<args.length;iterableObj++){sequence.push(args[iterableObj][i]);}
result.push(new batavia.core.Tuple(sequence));}
return result;};for(var fn in batavia.builtins){batavia.builtins[fn].__python__=true;}
batavia.core.Cell=function(value){this.contents=value;};batavia.core.Cell.prototype.get=function(){return this.contents;};batavia.core.Cell.prototype.set=function(value){this.contents=value;};batavia.core.Code=function(kwargs){this.co_argcount=kwargs.argcount||0;this.co_kwonlyargcount=kwargs.kwonlyargcount||0;this.co_nlocals=kwargs.nlocals||0;this.co_stacksize=kwargs.stacksize||0;this.co_flags=kwargs.flags||0;this.co_code=kwargs.code;this.co_consts=kwargs.consts||[];this.co_names=kwargs.names||[];this.co_varnames=kwargs.varnames||[];this.co_freevars=kwargs.freevars||0;this.co_cellvars=kwargs.cellvars||[];this.co_filename=kwargs.filename||'<string>';this.co_name=kwargs.name||'<module>';this.co_firstlineno=kwargs.firstlineno||1;this.co_lnotab=kwargs.lnotab||'';};BaseException=function(name,msg){this.name=name;this.msg=msg;};batavia.builtins.BaseException=BaseException;batavia.builtins.BaseException.prototype.toString=function(){if(this.msg){return this.name+": "+this.msg;}else{return this.name;}};function BataviaError(msg){batavia.builtins.BaseException.call(this,'BataviaError',msg);}
batavia.builtins.BataviaError=BataviaError;batavia.builtins.BataviaError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.BataviaError.prototype.constructor=BataviaError;function ArithmeticError(msg){batavia.builtins.BaseException.call(this,'ArithmeticError',msg);}
batavia.builtins.ArithmeticError=ArithmeticError;batavia.builtins.ArithmeticError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.ArithmeticError.prototype.constructor=ArithmeticError;function AssertionError(msg){batavia.builtins.BaseException.call(this,'AssertionError',msg);}
batavia.builtins.AssertionError=AssertionError;batavia.builtins.AssertionError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.AssertionError.prototype.constructor=AssertionError;function AttributeError(msg){batavia.builtins.BaseException.call(this,'AttributeError',msg);}
batavia.builtins.AttributeError=AttributeError;batavia.builtins.AttributeError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.AttributeError.prototype.constructor=AttributeError;function BufferError(msg){batavia.builtins.BaseException.call(this,'BufferError',msg);}
batavia.builtins.BufferError=BufferError;batavia.builtins.BufferError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.BufferError.prototype.constructor=BufferError;batavia.builtins.BytesWarning=undefined;batavia.builtins.DeprecationWarning=undefined;function EOFError(msg){batavia.builtins.BaseException.call(this,'EOFError',msg);}
batavia.builtins.EOFError=EOFError;batavia.builtins.EOFError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.EOFError.prototype.constructor=EOFError;batavia.builtins.Ellipsis=undefined;function EnvironmentError(msg){batavia.builtins.BaseException.call(this,'EnvironmentError',msg);}
batavia.builtins.EnvironmentError=EnvironmentError;batavia.builtins.EnvironmentError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.EnvironmentError.prototype.constructor=EnvironmentError;function Exception(msg){batavia.builtins.BaseException.call(this,'Exception',msg);}
batavia.builtins.Exception=Exception;batavia.builtins.Exception.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.Exception.prototype.constructor=Exception;function FloatingPointError(msg){batavia.builtins.BaseException.call(this,'FloatingPointError',msg);}
batavia.builtins.FloatingPointError=FloatingPointError;batavia.builtins.FloatingPointError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.FloatingPointError.prototype.constructor=FloatingPointError;batavia.builtins.FutureWarning=undefined;function GeneratorExit(msg){batavia.builtins.BaseException.call(this,'GeneratorExit',msg);}
batavia.builtins.GeneratorExit=GeneratorExit;batavia.builtins.GeneratorExit.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.GeneratorExit.prototype.constructor=GeneratorExit;function IOError(msg){batavia.builtins.BaseException.call(this,'IOError',msg);}
batavia.builtins.IOError=IOError;batavia.builtins.IOError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.IOError.prototype.constructor=IOError;function ImportError(msg){batavia.builtins.BaseException.call(this,'ImportError',msg);}
batavia.builtins.ImportError=ImportError;batavia.builtins.ImportError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.ImportError.prototype.constructor=ImportError;batavia.builtins.ImportWarning=undefined;function IndentationError(msg){batavia.builtins.BaseException.call(this,'IndentationError',msg);}
batavia.builtins.IndentationError=IndentationError;batavia.builtins.IndentationError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.IndentationError.prototype.constructor=IndentationError;function IndexError(msg){batavia.builtins.BaseException.call(this,'IndexError',msg);}
batavia.builtins.IndexError=IndexError;batavia.builtins.IndexError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.IndexError.prototype.constructor=IndexError;function KeyError(key){var msg;if(key===null){msg="None";}else if(key['__repr__']&&!key.hasOwnProperty('__repr__')){msg=key.__repr__();}else{msg=key.toString();}
batavia.builtins.BaseException.call(this,'KeyError',msg);}
batavia.builtins.KeyError=KeyError;batavia.builtins.KeyError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.KeyError.prototype.constructor=KeyError;function KeyboardInterrupt(msg){batavia.builtins.BaseException.call(this,'KeyboardInterrupt',msg);}
batavia.builtins.KeyboardInterrupt=KeyboardInterrupt;batavia.builtins.KeyboardInterrupt.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.KeyboardInterrupt.prototype.constructor=KeyboardInterrupt;function LookupError(msg){batavia.builtins.BaseException.call(this,'LookupError',msg);}
batavia.builtins.LookupError=LookupError;batavia.builtins.LookupError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.LookupError.prototype.constructor=LookupError;function MemoryError(msg){batavia.builtins.BaseException.call(this,'MemoryError',msg);}
batavia.builtins.MemoryError=MemoryError;batavia.builtins.MemoryError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.MemoryError.prototype.constructor=MemoryError;function NameError(msg){batavia.builtins.BaseException.call(this,'NameError',msg);}
batavia.builtins.NameError=NameError;batavia.builtins.NameError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.NameError.prototype.constructor=NameError;function NotImplemented(msg){batavia.builtins.BaseException.call(this,'NotImplemented',msg);}
batavia.builtins.NotImplemented=NotImplemented;batavia.builtins.NotImplemented.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.NotImplemented.prototype.constructor=NotImplemented;function NotImplementedError(msg){batavia.builtins.BaseException.call(this,'NotImplementedError',msg);}
batavia.builtins.NotImplementedError=NotImplementedError;batavia.builtins.NotImplementedError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.NotImplementedError.prototype.constructor=NotImplementedError;function OSError(msg){batavia.builtins.BaseException.call(this,'OSError',msg);}
batavia.builtins.OSError=OSError;batavia.builtins.OSError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.OSError.prototype.constructor=OSError;function OverflowError(msg){batavia.builtins.BaseException.call(this,'OverflowError',msg);}
batavia.builtins.OverflowError=OverflowError;batavia.builtins.OverflowError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.OverflowError.prototype.constructor=OverflowError;batavia.builtins.PendingDeprecationWarning=undefined;function ReferenceError(msg){batavia.builtins.BaseException.call(this,'ReferenceError',msg);}
batavia.builtins.ReferenceError=ReferenceError;batavia.builtins.ReferenceError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.ReferenceError.prototype.constructor=ReferenceError;function RuntimeError(msg){batavia.builtins.BaseException.call(this,'RuntimeError',msg);}
batavia.builtins.RuntimeError=RuntimeError;batavia.builtins.RuntimeError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.RuntimeError.prototype.constructor=RuntimeError;batavia.builtins.RuntimeWarning=undefined;function StandardError(msg){batavia.builtins.BaseException.call(this,'StandardError',msg);}
batavia.builtins.StandardError=StandardError;batavia.builtins.StandardError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.StandardError.prototype.constructor=StandardError;function StopIteration(msg){batavia.builtins.BaseException.call(this,'StopIteration',msg);}
batavia.builtins.StopIteration=StopIteration;batavia.builtins.StopIteration.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.StopIteration.prototype.constructor=StopIteration;function SyntaxError(msg){batavia.builtins.BaseException.call(this,'SyntaxError',msg);}
batavia.builtins.SyntaxError=SyntaxError;batavia.builtins.SyntaxError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.SyntaxError.prototype.constructor=SyntaxError;batavia.builtins.SyntaxWarning=undefined;function SystemError(msg){batavia.builtins.BaseException.call(this,'SystemError',msg);}
batavia.builtins.SystemError=SystemError;batavia.builtins.SystemError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.SystemError.prototype.constructor=SystemError;function SystemExit(msg){batavia.builtins.BaseException.call(this,'SystemExit',msg);}
batavia.builtins.SystemExit=SystemExit;batavia.builtins.SystemExit.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.SystemExit.prototype.constructor=SystemExit;function TabError(msg){batavia.builtins.BaseException.call(this,'TabError',msg);}
batavia.builtins.TabError=TabError;batavia.builtins.TabError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.TabError.prototype.constructor=TabError;function TypeError(msg){batavia.builtins.BaseException.call(this,'TypeError',msg);}
batavia.builtins.TypeError=TypeError;batavia.builtins.TypeError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.TypeError.prototype.constructor=TypeError;function UnboundLocalError(msg){batavia.builtins.BaseException.call(this,'UnboundLocalError',msg);}
batavia.builtins.UnboundLocalError=UnboundLocalError;batavia.builtins.UnboundLocalError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.UnboundLocalError.prototype.constructor=UnboundLocalError;function UnicodeDecodeError(msg){batavia.builtins.BaseException.call(this,'UnicodeDecodeError',msg);}
batavia.builtins.UnicodeDecodeError=UnicodeDecodeError;batavia.builtins.UnicodeDecodeError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.UnicodeDecodeError.prototype.constructor=UnicodeDecodeError;function UnicodeEncodeError(msg){batavia.builtins.BaseException.call(this,'UnicodeEncodeError',msg);}
batavia.builtins.UnicodeEncodeError=UnicodeEncodeError;batavia.builtins.UnicodeEncodeError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.UnicodeEncodeError.prototype.constructor=UnicodeEncodeError;function UnicodeError(msg){batavia.builtins.BaseException.call(this,'UnicodeError',msg);}
batavia.builtins.UnicodeError=UnicodeError;batavia.builtins.UnicodeError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.UnicodeError.prototype.constructor=UnicodeError;function UnicodeTranslateError(msg){batavia.builtins.BaseException.call(this,'UnicodeTranslateError',msg);}
batavia.builtins.UnicodeTranslateError=UnicodeTranslateError;batavia.builtins.UnicodeTranslateError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.UnicodeTranslateError.prototype.constructor=UnicodeTranslateError;batavia.builtins.UnicodeWarning=undefined;batavia.builtins.UserWarning=undefined;function ValueError(msg){batavia.builtins.BaseException.call(this,'ValueError',msg);}
batavia.builtins.ValueError=ValueError;batavia.builtins.ValueError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.ValueError.prototype.constructor=ValueError;batavia.builtins.Warning=undefined;function ZeroDivisionError(msg){batavia.builtins.BaseException.call(this,'ZeroDivisionError',msg);}
batavia.builtins.ZeroDivisionError=ZeroDivisionError;batavia.builtins.ZeroDivisionError.prototype=Object.create(batavia.builtins.BaseException.prototype);batavia.builtins.ZeroDivisionError.prototype.constructor=ZeroDivisionError;batavia.core.Frame=function(kwargs){var v,i;this.f_code=kwargs.f_code;this.f_globals=kwargs.f_globals;this.f_locals=kwargs.f_locals;this.f_back=kwargs.f_back;this.stack=[];if(this.f_back){this.f_builtins=this.f_back.f_builtins;}else{this.f_builtins=this.f_locals['__builtins__'];if(this.f_builtins.hasOwnProperty('__dict__')){this.f_builtins=this.f_builtins.__dict__;}}
this.f_lineno=this.f_code.co_firstlineno;this.f_lasti=0;if(this.f_code.co_cellvars.length>0){this.cells={};if(this.f_back&&!this.f_back.cells){this.f_back.cells={};}
for(i=0;i<this.f_code.co_cellvars.length;i++){v=this.f_code.co_cellvars[i];this.cells[v]=new batavia.core.Cell(this.f_locals[v]);if(this.f_back){this.f_back.cells[v]=this.cells[v];}}}else{this.cells=null;}
if(this.f_code.co_freevars.length>0){if(!this.cells){this.cells={};}
for(i=0;i<this.f_code.co_freevars.length;i++){v=this.f_code.co_freevars[i];assert(this.cells!==null);assert(this.f_back.cells,"f_back.cells: "+this.f_back.cells);this.cells[v]=this.f_back.cells[v];}}
this.block_stack=[];this.generator=null;};batavia.core.Frame.prototype.__repr__=function(){return'<Frame at 0x'+id(self)+': '+this.f_code.co_filename+' @ '+this.f_lineno+'>';};batavia.core.Frame.prototype.line_number=function(){var lnotab=this.f_code.co_lnotab;var byte_increments=[];var line_increments=[];byte_num=0;line_num=this.f_code.co_firstlineno;for(var incr in byte_increments){var byte_incr=byte_increments[incr];var line_incr=line_increments[incr];byte_num+=byte_incr;if(byte_num>this.f_lasti){break;}
line_num+=line_incr;}
return line_num;};batavia.core.Function=function(name,code,globals,defaults,closure,vm){this.__python__=true;this._vm=vm;this.__code__=code;this.__globals__=globals;this.__defaults__=defaults;this.__kwdefaults__=null;this.__closure__=closure;if(code.co_consts.length>0){this.__doc__=code.co_consts[0];}else{this.__doc__=null;}
this.__name__=name||code.co_name;this.__dict__=new batavia.core.Dict();this.__annotations__=new batavia.core.Dict();this.__qualname__=this.__name__;this.__call__=batavia.make_callable(this);this.argspec=batavia.modules.inspect.getfullargspec(this);};batavia.core.Method=function(instance,func){batavia.core.Function.call(this,func.__name__,func.__code__,func.__globals__,func.__closure__,func._vm);this.__self__=instance;this.__func__=func;this.__class__=instance.__proto__;};batavia.core.Method.prototype=Object.create(Function.prototype);batavia.core.Module=function(name,locals){this.__name__=name;for(var key in locals){if(locals.hasOwnProperty(key)){this[key]=locals[key];}}};batavia.core.PYCFile=function(data){this.magic=data.slice(0,4);this.modtime=data.slice(4,8);this.size=data.slice(8,12);this.data=data.slice(12);this.depth=0;this.ptr=0;this.end=this.data.length;this.refs=[];};batavia.core.PYCFile.EOF='\x04';batavia.core.PYCFile.prototype.getc=function(){if(this.ptr<this.end){return this.data[this.ptr++].charCodeAt();}
return batavia.core.PYCFile.EOF;};batavia.core.PYCFile.prototype.fread=function(n){if(this.ptr+n<=this.end){var retval=this.data.slice(this.ptr,this.ptr+n);this.ptr+=n;return retval;}
return batavia.core.PYCFile.EOF;};batavia.VirtualMachine=function(loader){batavia.modules.dis.init();if(loader===undefined){this.loader=function(name){return document.getElementById('batavia-'+name).text.replace(/(\r\n|\n|\r)/gm,"").trim();};}else{this.loader=loader;}
this.build_dispatch_table();this.frames=[];this.frame=null;this.return_value=null;this.last_exception=null;};batavia.VirtualMachine.Py_Ellipsis={};batavia.VirtualMachine.prototype.build_dispatch_table=function(){var vm=this;this.dispatch_table=batavia.modules.dis.opname.map(function(opname,opcode){var operator_name,operator;if(opcode in batavia.modules.dis.unary_ops){operator_name=opname.slice(6);operator=batavia.operators[operator_name];return function(){var x=this.pop();this.push(operator(x));};}else if(opcode in batavia.modules.dis.binary_ops){operator_name=opname.slice(7);operator=batavia.operators[operator_name];return function(){var items=this.popn(2);this.push(operator(items[0],items[1]));};}else if(opcode in batavia.modules.dis.inplace_ops){operator_name=opname.slice(8);operator=batavia.operators[operator_name];return function(){var items=this.popn(2);this.push(operator(items[0],items[1]));};}else{var bytecode_fn=vm['byte_'+opname];if(bytecode_fn){return bytecode_fn;}else{return function(){throw new batavia.builtins.BataviaError("Unknown opcode "+opcode+" ("+opname+")");};}}});};batavia.VirtualMachine.prototype.run=function(tag,args){try{var payload=this.loader(tag);var code=batavia.modules.marshal.load_pyc(this,payload);batavia.modules.sys.argv=new batavia.core.List(['batavia']);if(args){batavia.modules.sys.argv.extend(args);}
return this.run_code({'code':code});}catch(e){if(e instanceof batavia.builtins.BataviaError){console.log(e.msg);}else{throw e;}}};batavia.VirtualMachine.prototype.run_method=function(tag,args,kwargs,f_locals,f_globals){try{var payload=this.loader(tag);var code=batavia.modules.marshal.load_pyc(this,payload);var callargs=new batavia.core.Dict();for(var i=0,l=args.length;i<l;i++){callargs[code.co_varnames[i]]=args[i];}
callargs.update(kwargs);return this.run_code({'code':code,'callargs':callargs,'f_locals':f_locals,'f_globals':f_globals});}catch(e){if(e instanceof batavia.builtins.BataviaError){console.log(e.msg);}else{throw e;}}};batavia.VirtualMachine.prototype.PyErr_Occurred=function(){return this.last_exception!==null;};batavia.VirtualMachine.prototype.PyErr_SetString=function(exc,message){var exception=new exc(message);this.last_exception={'exc_type':exception.constructor,'value':exception,'traceback':this.create_traceback()};};batavia.VirtualMachine.prototype.top=function(){return this.frame.stack[this.frame.stack.length-1];};batavia.VirtualMachine.prototype.pop=function(i){if(i===undefined){i=0;}
return this.frame.stack.splice(this.frame.stack.length-1-i,1)[0];};batavia.VirtualMachine.prototype.push=function(val){this.frame.stack.push(val);};batavia.VirtualMachine.prototype.popn=function(n){if(n){return this.frame.stack.splice(this.frame.stack.length-n,n);}else{return[];}};batavia.VirtualMachine.prototype.peek=function(n){return this.frame.stack[this.frame.stack.length-n];};batavia.VirtualMachine.prototype.jump=function(jump){this.frame.f_lasti=jump;};batavia.VirtualMachine.prototype.push_block=function(type,handler,level){if(level===null){level=this.frame.stack.length;}
this.frame.block_stack.push(new batavia.core.Block(type,handler,level));};batavia.VirtualMachine.prototype.pop_block=function(){return this.frame.block_stack.pop();};batavia.VirtualMachine.prototype.make_frame=function(kwargs){var code=kwargs.code;var callargs=kwargs.callargs||{};var f_globals=kwargs.f_globals||null;var f_locals=kwargs.f_locals||null;if(!code.co_unpacked_code){this.unpack_code(code);}
if(f_globals!==null){if(f_locals===null){f_locals=f_globals;}}else if(this.frames.length>0){f_globals=this.frame.f_globals;f_locals=new batavia.core.Dict();}else{f_globals=f_locals=new batavia.core.Dict({'__builtins__':batavia.builtins,'__name__':'__main__','__doc__':null,'__package__':null,});}
f_locals.update(callargs);frame=new batavia.core.Frame({'f_code':code,'f_globals':f_globals,'f_locals':f_locals,'f_back':this.frame});return frame;};batavia.VirtualMachine.prototype.push_frame=function(frame){this.frames.push(frame);this.frame=frame;};batavia.VirtualMachine.prototype.pop_frame=function(){this.frames.pop();if(this.frames){this.frame=this.frames[this.frames.length-1];}else{this.frame=null;}};batavia.VirtualMachine.prototype.create_traceback=function(){var tb=[];var frame;for(var f in this.frames){frame=this.frames[f];var lnotab=frame.f_code.co_lnotab;var byte_num=0;var line_num=frame.f_code.co_firstlineno;var byte_incr,line_incr;for(var idx=1;idx<lnotab.length,byte_num<frame.f_lasti;idx+=2){byte_num+=lnotab.charCodeAt(idx-1);if(byte_num<frame.f_lasti){line_num+=lnotab.charCodeAt(idx);}}
tb.push({'module':frame.f_code.co_name,'filename':frame.f_code.co_filename,'line':line_num});}
return tb;};batavia.VirtualMachine.prototype.unpack_code=function(code){var pos=0;var unpacked_code=[];var args;while(pos<code.co_code.length){var opcode_start_pos=pos;var opcode=code.co_code[pos++];if(opcode<batavia.modules.dis.HAVE_ARGUMENT){args=[];}else{var lo=code.co_code[pos++];var hi=code.co_code[pos++];var intArg=lo+(hi<<8);if(opcode in batavia.modules.dis.hasconst){args=[code.co_consts[intArg]];}else if(opcode in batavia.modules.dis.hasfree){if(intArg<code.co_cellvars.length){args=[code.co_cellvars[intArg]];}else{var_idx=intArg-code.co_cellvars.length;args=[code.co_freevars[var_idx]];}}else if(opcode in batavia.modules.dis.hasname){args=[code.co_names[intArg]];}else if(opcode in batavia.modules.dis.hasjrel){args=[pos+intArg];}else if(opcode in batavia.modules.dis.hasjabs){args=[intArg];}else if(opcode in batavia.modules.dis.haslocal){args=[code.co_varnames[intArg]];}else{args=[intArg];}}
unpacked_code[opcode_start_pos]={'opoffset':opcode_start_pos,'opcode':opcode,'op_method':this.dispatch_table[opcode],'args':args,'next_pos':pos};}
code.co_unpacked_code=unpacked_code;};batavia.VirtualMachine.prototype.run_code=function(kwargs){var code=kwargs.code;var f_globals=kwargs.f_globals||null;var f_locals=kwargs.f_locals||null;var callargs=kwargs.callargs||null;var frame=this.make_frame({'code':code,'f_globals':f_globals,'f_locals':f_locals,'callargs':callargs});try{var val=this.run_frame(frame);if(this.frames.length>0){throw new batavia.builtins.BataviaError("Frames left over!");}
if(this.frame&&this.frame.stack.length>0){throw new batavia.builtins.BataviaError("Data left on stack! "+this.frame.stack);}
return val;}catch(e){if(this.last_exception){trace=['Traceback (most recent call last):'];var frame;for(var t in this.last_exception.traceback){frame=this.last_exception.traceback[t];trace.push('  File "'+frame.filename+'", line '+frame.line+', in '+frame.module);}
trace.push(this.last_exception.value.toString());console.log(trace.join('\n'));this.last_exception=null;}else{throw e;}}};batavia.VirtualMachine.prototype.unwind_block=function(block){if(block.type==='except-handler'){offset=3;}else{offset=0;}
while(this.frame.stack.length>block.level+offset){this.pop();}
if(block.type==='except-handler'){exc=this.popn(3);this.last_exception={'exc_type':exc[2],'value':exc[1],'traceback':exc[0]};}};batavia.VirtualMachine.prototype.parse_byte_and_args=function(){var operation={'opoffset':this.frame.f_lasti,'opcode':this.frame.f_code.co_code[this.frame.f_lasti],'args':[]};var dis=batavia.modules.dis;this.frame.f_lasti+=1;if(operation.opcode>=dis.HAVE_ARGUMENT){var arg=this.frame.f_code.co_code.slice(this.frame.f_lasti,this.frame.f_lasti+2);this.frame.f_lasti+=2;var intArg=arg[0]+(arg[1]<<8);if(operation.opcode in dis.hasconst){operation.args=[this.frame.f_code.co_consts[intArg]];}else if(operation.opcode in dis.hasfree){if(intArg<this.frame.f_code.co_cellvars.length){operation.args=[this.frame.f_code.co_cellvars[intArg]];}else{var_idx=intArg-this.frame.f_code.co_cellvars.length;operation.args=[this.frame.f_code.co_freevars[var_idx]];}}else if(operation.opcode in dis.hasname){operation.args=[this.frame.f_code.co_names[intArg]];}else if(operation.opcode in dis.hasjrel){operation.args=[this.frame.f_lasti+intArg];}else if(operation.opcode in dis.hasjabs){operation.args=[intArg];}else if(operation.opcode in dis.haslocal){operation.args=[this.frame.f_code.co_varnames[intArg]];}else{operation.args=[intArg];}}
return operation;};batavia.VirtualMachine.prototype.log=function(opcode){var op=opcode.opoffset+': '+opcode.byteName;for(var arg in opcode.args){op+=' '+opcode.args[arg];}
var indent="    "*(this.frames.length-1);console.log("  "+indent+"data: "+this.frame.stack);console.log("  "+indent+"blks: "+this.frame.block_stack);console.log(indent+op);};batavia.VirtualMachine.prototype.manage_block_stack=function(why){assert(why!=='yield');var block=this.frame.block_stack[this.frame.block_stack.length-1];if(block.type==='loop'&&why==='continue'){this.jump(this.return_value);why=null;return why;}
this.pop_block();this.unwind_block(block);if(block.type==='loop'&&why==='break'){why=null;this.jump(block.handler);return why;}
if(why==='exception'&&(block.type==='setup-except'||block.type==='finally')){this.push_block('except-handler');var exc=this.last_exception;this.push(exc.traceback);this.push(exc.value);this.push(exc.exc_type);this.push(exc.traceback);this.push(exc.value);this.push(exc.exc_type);why=null;this.jump(block.handler);return why;}else if(block.type==='finally'){if(why==='return'||why==='continue'){this.push(this.return_value);}
this.push(why);why=null;this.jump(block.handler);return why;}
return why;};batavia.VirtualMachine.prototype.run_frame=function(frame){var why,operation;this.push_frame(frame);while(true){operation=this.frame.f_code.co_unpacked_code[this.frame.f_lasti];var opname=batavia.modules.dis.opname[operation.opcode];this.frame.f_lasti=operation.next_pos;try{why=operation.op_method.apply(this,operation.args);}catch(err){if(err instanceof batavia.builtins.BataviaError){this.last_exception=null;throw err;}else if(this.last_exception===null){this.last_exception={'exc_type':err.constructor,'value':err,'traceback':this.create_traceback()};}
why='exception';}
if(why==='exception'){}
if(why==='reraise'){why='exception';}
if(why!=='yield'){while(why&&frame.block_stack.length>0){why=this.manage_block_stack(why);}}
if(why){break;}}
this.pop_frame();if(why==='exception'){throw this.last_exception;}
return this.return_value;};batavia.VirtualMachine.prototype.byte_LOAD_CONST=function(c){this.push(c);};batavia.VirtualMachine.prototype.byte_POP_TOP=function(){this.pop();};batavia.VirtualMachine.prototype.byte_DUP_TOP=function(){this.push(this.top());};batavia.VirtualMachine.prototype.byte_DUP_TOPX=function(count){var items=this.popn(count);for(var n=0;n<2;n++){for(var i=0;i<count;i++){this.push(items[i]);}}};batavia.VirtualMachine.prototype.byte_DUP_TOP_TWO=function(){var items=this.popn(2);this.push(items[0]);this.push(items[1]);this.push(items[0]);this.push(items[1]);};batavia.VirtualMachine.prototype.byte_ROT_TWO=function(){var items=this.popn(2);this.push(items[1]);this.push(items[0]);};batavia.VirtualMachine.prototype.byte_ROT_THREE=function(){var items=this.popn(3);this.push(items[2]);this.push(items[0]);this.push(items[1]);};batavia.VirtualMachine.prototype.byte_ROT_FOUR=function(){var items=this.popn(4);this.push(items[3]);this.push(items[0]);this.push(items[1]);this.push(items[2]);};batavia.VirtualMachine.prototype.byte_LOAD_NAME=function(name){var frame=this.frame;var val;if(name in frame.f_locals){val=frame.f_locals[name];}else if(name in frame.f_globals){val=frame.f_globals[name];}else if(name in frame.f_builtins){val=frame.f_builtins[name];}else{throw new batavia.builtins.NameError("name '"+name+"' is not defined");}
this.push(val);};batavia.VirtualMachine.prototype.byte_STORE_NAME=function(name){this.frame.f_locals[name]=this.pop();};batavia.VirtualMachine.prototype.byte_DELETE_NAME=function(name){delete this.frame.f_locals[name];};batavia.VirtualMachine.prototype.byte_LOAD_FAST=function(name){var val;if(name in this.frame.f_locals){val=this.frame.f_locals[name];}else{throw new batavia.builtins.NameError("local variable '"+name+"' referenced before assignment");}
this.push(val);};batavia.VirtualMachine.prototype.byte_STORE_FAST=function(name){this.frame.f_locals[name]=this.pop();};batavia.VirtualMachine.prototype.byte_DELETE_FAST=function(name){delete this.frame.f_locals[name];};batavia.VirtualMachine.prototype.byte_STORE_GLOBAL=function(name){this.frame.f_globals[name]=this.pop();};batavia.VirtualMachine.prototype.byte_LOAD_GLOBAL=function(name){var val;if(name in this.frame.f_globals){val=this.frame.f_globals[name];}else if(name in this.frame.f_builtins){val=this.frame.f_builtins[name];}else{throw new batavia.builtins.NameError("name '"+name+"' is not defined");}
this.push(val);};batavia.VirtualMachine.prototype.byte_LOAD_DEREF=function(name){this.push(this.frame.cells[name].get());};batavia.VirtualMachine.prototype.byte_STORE_DEREF=function(name){this.frame.cells[name].set(this.pop());};batavia.VirtualMachine.prototype.byte_LOAD_LOCALS=function(){this.push(this.frame.f_locals);};batavia.VirtualMachine.prototype.byte_COMPARE_OP=function(opnum){var items=this.popn(2);this.push(batavia.comparisons[opnum](items[0],items[1]));};batavia.VirtualMachine.prototype.byte_LOAD_ATTR=function(attr){var obj=this.pop();var val=obj[attr];if(val instanceof batavia.core.Function){if(!(obj instanceof batavia.core.Module)){val=new batavia.core.Method(obj,val);}}else if(val instanceof Function){if(Object.keys(val.prototype).length>0){val=function(fn){return function(args,kwargs){var obj=Object.create(fn.prototype);fn.apply(obj,args);return obj;};}(val);}else{val=function(fn){return function(args,kwargs){return fn.apply(obj,args);};}(val);}}
this.push(val);};batavia.VirtualMachine.prototype.byte_STORE_ATTR=function(name){var items=this.popn(2);items[1][name]=items[0];};batavia.VirtualMachine.prototype.byte_DELETE_ATTR=function(name){var obj=this.pop();delete obj[name];};batavia.VirtualMachine.prototype.byte_STORE_SUBSCR=function(){var items=this.popn(3);items[1][items[2]]=items[0];};batavia.VirtualMachine.prototype.byte_DELETE_SUBSCR=function(){var items=this.popn(2);delete items[1][items[0]];};batavia.VirtualMachine.prototype.byte_BUILD_TUPLE=function(count){var items=this.popn(count);this.push(new batavia.core.Tuple(items));};batavia.VirtualMachine.prototype.byte_BUILD_LIST=function(count){var items=this.popn(count);this.push(new batavia.core.List(items));};batavia.VirtualMachine.prototype.byte_BUILD_SET=function(count){var items=this.popn(count);this.push(new batavia.core.Set(items));};batavia.VirtualMachine.prototype.byte_BUILD_MAP=function(size){this.push(new batavia.core.Dict());};batavia.VirtualMachine.prototype.byte_STORE_MAP=function(){var items=this.popn(3);items[0][items[2]]=items[1];this.push(items[0]);};batavia.VirtualMachine.prototype.byte_UNPACK_SEQUENCE=function(count){var seq=this.pop();if(seq.__next__){try{while(true){this.push(seq.__next__());}}catch(err){}}else{for(var i=seq.length;i--;){this.push(seq[i]);}}};batavia.VirtualMachine.prototype.byte_BUILD_SLICE=function(count){if(count===2||count===3){items=this.popn(count);this.push(batavia.builtins.slice(items));}else{throw new batavia.builtins.BataviaError("Strange BUILD_SLICE count: "+count);}};batavia.VirtualMachine.prototype.byte_LIST_APPEND=function(count){var val=this.pop();var the_list=this.peek(count);the_list.push(val);};batavia.VirtualMachine.prototype.byte_SET_ADD=function(count){var val=this.pop();var the_set=this.peek(count);the_set.add(val);};batavia.VirtualMachine.prototype.byte_MAP_ADD=function(count){var items=this.popn(2);var the_map=this.peek(count);the_map[items[1]]=items[0];};batavia.VirtualMachine.prototype.byte_PRINT_EXPR=function(){batavia.stdout(this.pop());};batavia.VirtualMachine.prototype.byte_PRINT_ITEM=function(){var item=this.pop();this.print_item(item);};batavia.VirtualMachine.prototype.byte_PRINT_ITEM_TO=function(){var to=this.pop();var item=this.pop();this.print_item(item);};batavia.VirtualMachine.prototype.byte_PRINT_NEWLINE=function(){this.print_newline();};batavia.VirtualMachine.prototype.byte_PRINT_NEWLINE_TO=function(){var to=this.pop();this.print_newline(to);};batavia.VirtualMachine.prototype.print_item=function(item,to){if(to===undefined){}
batavia.stdout(item);};batavia.VirtualMachine.prototype.print_newline=function(to){if(to===undefined){}
batavia.stdout("");};batavia.VirtualMachine.prototype.byte_JUMP_FORWARD=function(jump){this.jump(jump);};batavia.VirtualMachine.prototype.byte_JUMP_ABSOLUTE=function(jump){this.jump(jump);};batavia.VirtualMachine.prototype.byte_POP_JUMP_IF_TRUE=function(jump){var val=this.pop();if(val){this.jump(jump);}};batavia.VirtualMachine.prototype.byte_POP_JUMP_IF_FALSE=function(jump){var val=this.pop();if(!val){this.jump(jump);}};batavia.VirtualMachine.prototype.byte_JUMP_IF_TRUE_OR_POP=function(jump){var val=this.top();if(val){this.jump(jump);}else{this.pop();}};batavia.VirtualMachine.prototype.byte_JUMP_IF_FALSE_OR_POP=function(jump){var val=this.top();if(!val){this.jump(jump);}else{this.pop();}};batavia.VirtualMachine.prototype.byte_SETUP_LOOP=function(dest){this.push_block('loop',dest);};batavia.VirtualMachine.prototype.byte_GET_ITER=function(){this.push(batavia.builtins.iter([this.pop()],null));};batavia.VirtualMachine.prototype.byte_FOR_ITER=function(jump){var iterobj=this.top();try{var v=iterobj.__next__();this.push(v);}catch(err){if(err instanceof batavia.builtins.StopIteration){this.pop();this.jump(jump);}else{throw err;}}};batavia.VirtualMachine.prototype.byte_BREAK_LOOP=function(){return'break';};batavia.VirtualMachine.prototype.byte_CONTINUE_LOOP=function(dest){this.return_value=dest;return'continue';};batavia.VirtualMachine.prototype.byte_SETUP_EXCEPT=function(dest){this.push_block('setup-except',dest);};batavia.VirtualMachine.prototype.byte_SETUP_FINALLY=function(dest){this.push_block('finally',dest);};batavia.VirtualMachine.prototype.byte_END_FINALLY=function(){var exc_type=this.pop();if(exc_type===null){why=null;}else{value=this.pop();if(value instanceof batavia.builtins.BaseException){traceback=this.pop();this.last_exception={'exc_type':exc_type,'value':value,'traceback':traceback};why='reraise';}else{throw new batavia.builtins.BataviaError("Confused END_FINALLY");}}
return why;};batavia.VirtualMachine.prototype.byte_POP_BLOCK=function(){this.pop_block();};batavia.VirtualMachine.prototype.byte_RAISE_VARARGS=function(argc){var cause,exc;if(argc==2){cause=this.pop();exc=this.pop();}else if(argc==1){exc=this.pop();}
return this.do_raise(exc,cause);};batavia.VirtualMachine.prototype.do_raise=function(exc,cause){if(exc===undefined){if(this.last_exception.exc_type===undefined){return'exception';}else{return'reraise';}}else if(exc instanceof batavia.builtins.BaseException){exc_type=exc.constructor;val=exc;}else{return'exception';}
if(cause){val.__cause__=cause;}
this.last_exception={'exc_type':exc_type,'value':val,'traceback':this.create_traceback()};return'exception';};batavia.VirtualMachine.prototype.byte_POP_EXCEPT=function(){var block=this.pop_block();if(block.type!=='except-handler'){throw new batavia.exception.BataviaError("popped block is not an except handler");}
this.unwind_block(block);};batavia.VirtualMachine.prototype.byte_MAKE_FUNCTION=function(argc){var name=this.pop();var code=this.pop();var defaults=this.popn(argc);var fn=new batavia.core.Function(name,code,this.frame.f_globals,defaults,null,this);this.push(fn);};batavia.VirtualMachine.prototype.byte_LOAD_CLOSURE=function(name){this.push(this.frame.cells[name]);};batavia.VirtualMachine.prototype.byte_MAKE_CLOSURE=function(argc){var name=this.pop();var items=this.popn(2);var defaults=this.popn(argc);var fn=new batavia.core.Function(name,items[1],this.frame.f_globals,defaults,items[0],this);this.push(fn);};batavia.VirtualMachine.prototype.byte_CALL_FUNCTION=function(arg){return this.call_function(arg,null,null);};batavia.VirtualMachine.prototype.byte_CALL_FUNCTION_VAR=function(arg){var args=this.pop();return this.call_function(arg,args,null);};batavia.VirtualMachine.prototype.byte_CALL_FUNCTION_KW=function(arg){var kwargs=this.pop();return this.call_function(arg,null,kwargs);};batavia.VirtualMachine.prototype.byte_CALL_FUNCTION_VAR_KW=function(arg){var items=this.popn(2);return this.call_function(arg,items[0],items[1]);};batavia.VirtualMachine.prototype.call_function=function(arg,args,kwargs){var lenKw=Math.floor(arg/256);var lenPos=arg%256;var namedargs=new batavia.core.Dict();for(var i=0;i<lenKw;i++){var items=this.popn(2);namedargs[items[0]]=items[1];}
if(kwargs){namedargs.update(kwargs);}
var posargs=this.popn(lenPos);if(args){posargs=posargs.concat(args);}
var func=this.pop();if('__self__'in func&&'__python__'in func){if(func.__self__){posargs.unshift(func.__self__);}
if(posargs[0]instanceof func.constructor){throw'unbound method '+func.__func__.__name__+'()'+
' must be called with '+func.__class__.__name__+' instance '+
'as first argument (got '+posargs[0].prototype+' instance instead)';}
func=func.__func__.__call__;}else if('__call__'in func){func=func.__call__;}else if(func.prototype){if(Object.keys(func.prototype).length>0){func=function(fn){return function(args,kwargs){var obj=Object.create(fn.prototype);fn.apply(obj,args);return obj;};}(func);}}
var retval=func.apply(this,[posargs,namedargs]);this.push(retval);};batavia.VirtualMachine.prototype.byte_RETURN_VALUE=function(){this.return_value=this.pop();if(this.frame.generator){this.frame.generator.finished=true;}
return"return";};batavia.VirtualMachine.prototype.byte_IMPORT_NAME=function(name){var items=this.popn(2);this.push(batavia.builtins.__import__.apply(this,[[name,this.frame.f_globals,null,items[1],items[0]]]));};batavia.VirtualMachine.prototype.byte_IMPORT_STAR=function(){var mod=this.pop();if('__all__'in mod){for(var n=0;n<mod.__all__.length;n++){var name=mod.__all__[n];this.frame.f_locals[name]=mod[name];}}else{for(var attr in mod){if(attr[0]!=='_'){this.frame.f_locals[attr]=mod[attr];}}}};batavia.VirtualMachine.prototype.byte_IMPORT_FROM=function(name){var mod=this.top();this.push(mod[name]);};batavia.VirtualMachine.prototype.byte_LOAD_BUILD_CLASS=function(){var make_class=batavia.make_class.bind(this);make_class.__python__=true;this.push(make_class);};batavia.VirtualMachine.prototype.byte_STORE_LOCALS=function(){this.frame.f_locals=this.pop();};batavia.VirtualMachine.prototype.byte_SET_LINENO=function(lineno){this.frame.f_lineno=lineno;};
